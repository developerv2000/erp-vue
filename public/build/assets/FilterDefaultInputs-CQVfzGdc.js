import{u as y,c as d,o as u,w as c,a as i,V as U,l as $,e as _,t as D,b as m,n as B,m as M,p as S,q as j,ab as h,bU as A,s,_ as C,f as w,k as V,F as N}from"./app-CNcla55t.js";import{a as R,_ as H}from"./FilterApplyButton-BT_haj0o.js";import{u as F}from"./useQueryParams-B_tqYq6J.js";import{_ as O}from"./DefaultDateInput-DDv_YiN3.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as P}from"./DefaultCombobox-DIGlLcXC.js";const q={class:"d-flex justify-space-between"},E={class:"text-subtitle-1"},Y={__name:"StoreBindedFilter",props:{store:Object},setup(t){const{t:l}=y();function r(){t.store.resetState(),t.store.resetUrl(),t.store.fetchRecords()}function e(){t.store.pagination.page=1,t.store.fetchRecords()}return(a,f)=>(u(),d(j,{class:"main-filter",rounded:"lg"},{default:c(()=>[i(U,null,{default:c(()=>[i($,{class:"pb-3 border-b-sm"},{default:c(()=>[_("div",q,[_("span",E,D(m(l)("actions.Filter")),1),i(R,{onClick:r,disabled:t.store.loading},null,8,["disabled"])])]),_:1}),i(B,{class:"d-flex flex-column ga-4 pt-5"},{default:c(()=>[M(a.$slots,"default")]),_:3}),i(S,{class:"position-sticky bottom-0 bg-surface border-t"},{default:c(()=>[i(H,{onClick:e,loading:t.store.loading},null,8,["loading"])]),_:1})]),_:3})]),_:3}))}},Q={__name:"FilterDateInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const l=h(),{get:r}=F(),e=A(t,"modelValue"),a=s(()=>l.multiple===""||!!l.multiple),f=s(()=>l.multiple==="range"),b=s(()=>!0),v=s(()=>f.value?Array.isArray(e.value)&&e.value.length>=2&&e.value[0]&&e.value[1]:a.value?Array.isArray(e.value)&&e.value.length>0:e.value!==void 0&&e.value!==null&&e.value!==""),o=s(()=>{let n=l.name;return a.value&&(n=n.replace("[]","")),!!r(n)}),p=s(()=>({"highlight-date-input":v.value,"order-first":o.value}));return(n,g)=>(u(),d(O,C({class:p.value,modelValue:e.value,"onUpdate:modelValue":g[0]||(g[0]=I=>e.value=I),"prepend-inner-icon":null,placeholder:" ",clearable:b.value},m(l)),null,16,["class","modelValue","clearable"]))}},x=k(Q,[["__scopeId","data-v-9deff3bd"]]),T={__name:"FilterCombobox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const l=h(),{get:r}=F(),e=A(t,"modelValue"),a=s(()=>l.multiple===""||!!l.multiple),f=s(()=>a.value?Array.isArray(e.value)&&e.value.length>0:e.value!==void 0&&e.value!==null&&e.value!==""),b=s(()=>{let o=l.name;return a.value&&(o=o.replace("[]","")),!!r(o)}),v=s(()=>({"highlight-combobox":f.value,"order-first":b.value}));return(o,p)=>(u(),d(P,C({class:v.value,modelValue:e.value,"onUpdate:modelValue":p[0]||(p[0]=n=>e.value=n),"list-props":{class:"filter-combobox__list",density:"compact"}},m(l)),null,16,["class","modelValue"]))}},z=k(T,[["__scopeId","data-v-9b9f1564"]]),Z={__name:"FilterDefaultInputs",props:{store:Object,exclude:{type:Array,default:[]}},setup(t){const{t:l}=y();return(r,e)=>(u(),w(N,null,[t.exclude.includes("created_at")?V("",!0):(u(),d(x,{key:0,label:m(l)("dates.Date of creation"),name:"created_at",modelValue:t.store.filters.created_at,"onUpdate:modelValue":e[0]||(e[0]=a=>t.store.filters.created_at=a),multiple:"range"},null,8,["label","modelValue"])),t.exclude.includes("updated_at")?V("",!0):(u(),d(x,{key:1,label:m(l)("dates.Update date"),name:"updated_at",modelValue:t.store.filters.updated_at,"onUpdate:modelValue":e[1]||(e[1]=a=>t.store.filters.updated_at=a),multiple:"range"},null,8,["label","modelValue"])),t.exclude.includes("id")?V("",!0):(u(),d(z,{key:2,label:"ID",name:"id",type:"number",modelValue:t.store.filters.id,"onUpdate:modelValue":e[2]||(e[2]=a=>t.store.filters.id=a),items:[],"hide-spin-buttons":!0,multiple:""},null,8,["modelValue"]))],64))}};export{x as F,Z as _,Y as a};
