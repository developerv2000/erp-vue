import{v as k,c as f,o as g,w as s,a,dc as E,aM as L,h as P,m as $,n as u,j as q,i as F,b as o,aL as M,L as B,aq as I,y as C,x as d,B as j,g as A}from"./app-D1YberCH.js";import{V as G,a as N}from"./VMain-CqwZrjNB.js";import{u as T,a as p,F as U}from"./vee-validate-CRXdF8qc.js";import{u as z}from"./global-C_obqYRr.js";import{u as O}from"./useQueryParams-CvlUZ1Jc.js";import{_ as c}from"./DefaultTextField-BCoejoR8.js";import{m as Q,a as R}from"./mdi-DZCuF3m0.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./layout-DfS5zHi2.js";import"./notifications-B7EO4cAa.js";import"./queryHelper-C2x2SXyh.js";import"./processesTable-BWnG6kJe.js";import"./processStatusHistoryTable-BgSiK4hk.js";import"./productsTable-CHl2_Wbn.js";import"./attachments-sNP-ONW3.js";import"./comments-C5XMvFwX.js";import"./manufacturersTable-BMkoGMiV.js";import"./usersTable-CQUJT-52.js";import"./kpi-BP3e3Jgd.js";import"./useAuth-az17RQ-Z.js";import"./WrappedLabelGroup-K36BtbtP.js";const D={__name:"GuestLayout",setup(_){return k.get("/sanctum/csrf-cookie"),(r,m)=>(g(),f(N,null,{default:s(()=>[a(G,{class:"d-flex align-center justify-center",style:{backgroundImage:"url('/images/auth/background.png')",backgroundSize:"cover",backgroundPosition:"right bottom"}},{default:s(()=>[a(E,{theme:"light"},{default:s(()=>[L(r.$slots,"default")]),_:3})]),_:3})]),_:3}))}},H={__name:"Login",setup(_){const r=P(!1),m=z(),{get:b}=O(),v=$({email:u().required().email(),password:u().required()}),{handleSubmit:V,setErrors:w,resetForm:x}=T({validationSchema:v}),{value:l,errorMessage:S}=p("email"),{value:i,errorMessage:y}=p("password"),h=V(n=>{q.post("/login",n,{onStart:()=>{},onError:e=>{w(e)},onSuccess:()=>{x()}})});return F(()=>{b("logged_out")&&m.resetAllStores()}),(n,e)=>(g(),f(D,null,{default:s(()=>[a(o(M),{title:"Login"}),a(B,{class:"px-8 pt-8 pb-10",width:"460",elevation:"1"},{default:s(()=>[a(I,{class:"mx-auto mb-2",width:180,src:"/images/main/logo-dark.svg"}),a(C,{class:"card",variant:"text",title:"Welcome",subtitle:"Please, sign in to your account"},{default:s(()=>[a(o(U),{onSubmit:o(h),class:"d-flex flex-column ga-1 mt-5"},{default:s(()=>[a(c,{color:"lime-accent-4",autocomplete:"username",label:"Email",name:"email",type:"email",modelValue:o(l),"onUpdate:modelValue":e[0]||(e[0]=t=>d(l)?l.value=t:null),"error-messages":o(S),"hide-details":!1,required:""},null,8,["modelValue","error-messages"]),a(c,{color:"lime-accent-4",autocomplete:"current-password",label:"Password",name:"password",type:r.value?"text":"password",modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>d(i)?i.value=t:null),"error-messages":o(y),"hide-details":!1,"append-inner-icon":r.value?o(Q):o(R),"onClick:appendInner":e[2]||(e[2]=t=>r.value=!r.value),required:""},null,8,["type","modelValue","error-messages","append-inner-icon"]),a(j,{class:"mt-2",color:"lime-accent-4",type:"submit"},{default:s(()=>[...e[3]||(e[3]=[A(" Sign in ",-1)])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}))}},_e=W(H,[["__scopeId","data-v-b91f8fce"]]);export{_e as default};
