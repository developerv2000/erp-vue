import{B as k,c as f,o as g,w as s,a,cW as E,m as P,h as $,v as q,x as u,j as F,i as I,b as o,aT as B,q as C,aw as L,V as M,C as d,I as T,g as j}from"./app-CGP4rxJE.js";import{V as A,a as G}from"./VMain-BOKPh0WA.js";import{u as N,a as p,F as U}from"./vee-validate-D5VtrSr7.js";import{u as W}from"./global-C6Plycy3.js";import{u as z}from"./useQueryParams-mtMpxu7O.js";import{_ as c}from"./DefaultTextField-B-EuZCRI.js";import{m as O,a as Q}from"./mdi-BINEaKNx.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./layout-msaEkPQB.js";import"./notifications-4ipnsiOY.js";import"./queryHelper-zuYrvkeK.js";import"./processesTable-BrgWdWg3.js";import"./processStatusHistoryTable-9NJoOoto.js";import"./productsTable-Bp87ni9a.js";import"./attachments-2umDkhCX.js";import"./comments-BRwOMxkc.js";import"./manufacturersTable-CxJclyNy.js";import"./useAuth-ByzK3C_d.js";import"./WrappedLabelGroup-B8Kd4-oq.js";const D={__name:"GuestLayout",setup(_){return k.get("/sanctum/csrf-cookie"),(r,m)=>(g(),f(G,null,{default:s(()=>[a(A,{class:"d-flex align-center justify-center",style:{backgroundImage:"url('/images/auth/background.png')",backgroundSize:"cover",backgroundPosition:"right bottom"}},{default:s(()=>[a(E,{theme:"light"},{default:s(()=>[P(r.$slots,"default")]),_:3})]),_:3})]),_:3}))}},H={__name:"Login",setup(_){const r=$(!1),m=W(),{get:b}=z(),v=q({email:u().required().email(),password:u().required()}),{handleSubmit:V,setErrors:w,resetForm:x}=N({validationSchema:v}),{value:l,errorMessage:S}=p("email"),{value:i,errorMessage:h}=p("password"),y=V(n=>{F.post("/login",n,{onStart:()=>{},onError:e=>{w(e)},onSuccess:()=>{x()}})});return I(()=>{b("logged_out")&&m.resetAllStores()}),(n,e)=>(g(),f(D,null,{default:s(()=>[a(o(B),{title:"Login"}),a(C,{class:"px-8 pt-8 pb-10",width:"460",elevation:"1"},{default:s(()=>[a(L,{class:"mx-auto mb-2",width:180,src:"/images/main/logo-dark.svg"}),a(M,{class:"card",variant:"text",title:"Welcome",subtitle:"Please, sign in to your account"},{default:s(()=>[a(o(U),{onSubmit:o(y),class:"d-flex flex-column ga-1 mt-5"},{default:s(()=>[a(c,{color:"lime-accent-4",autocomplete:"username",label:"Email",name:"email",type:"email",modelValue:o(l),"onUpdate:modelValue":e[0]||(e[0]=t=>d(l)?l.value=t:null),"error-messages":o(S),"hide-details":!1,required:""},null,8,["modelValue","error-messages"]),a(c,{color:"lime-accent-4",autocomplete:"current-password",label:"Password",name:"password",type:r.value?"text":"password",modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>d(i)?i.value=t:null),"error-messages":o(h),"hide-details":!1,"append-inner-icon":r.value?o(O):o(Q),"onClick:appendInner":e[2]||(e[2]=t=>r.value=!r.value),required:""},null,8,["type","modelValue","error-messages","append-inner-icon"]),a(T,{class:"mt-2",color:"lime-accent-4",type:"submit"},{default:s(()=>[...e[3]||(e[3]=[j(" Sign in ",-1)])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}))}},fe=R(H,[["__scopeId","data-v-b91f8fce"]]);export{fe as default};
