import{v as k,c as f,o as g,w as s,a,d1 as E,aE as P,h as $,m as F,n as u,j as L,i as q,b as o,aD as B,L as I,ai as M,y as C,x as d,B as j,g as A}from"./app-zlqHbSzm.js";import{V as G,a as N}from"./VMain-CeJ-XKnW.js";import{u as T,a as p,F as U}from"./vee-validate-BBGapQu0.js";import{u as z}from"./global-DYQ_7qAx.js";import{u as D}from"./useQueryParams-C3fHPWEP.js";import{_ as c}from"./DefaultTextField-BEZsSDox.js";import{m as O,a as Q}from"./mdi-DZCuF3m0.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./layout-CD4Yo6Qq.js";import"./notifications-DjupALAU.js";import"./queryHelper-C2x2SXyh.js";import"./processesTable-Dl4R5jC9.js";import"./processStatusHistoryTable-OOHLylf7.js";import"./productsTable-DXo8QSec.js";import"./attachments-ZHWfa_ty.js";import"./comments-BDMvWiQS.js";import"./manufacturersTable-fRUPma1E.js";import"./usersTable-BQViq1Lf.js";import"./kpi-B7ZjvoOQ.js";import"./useAuth-AvoFT6e5.js";import"./WrappedLabelGroup-Dpr7TQkn.js";const W={__name:"GuestLayout",setup(_){return k.get("/sanctum/csrf-cookie"),(r,m)=>(g(),f(N,null,{default:s(()=>[a(G,{class:"d-flex align-center justify-center",style:{backgroundImage:"url('/images/auth/background.png')",backgroundSize:"cover",backgroundPosition:"right bottom"}},{default:s(()=>[a(E,{theme:"light"},{default:s(()=>[P(r.$slots,"default")]),_:3})]),_:3})]),_:3}))}},H={__name:"Login",setup(_){const r=$(!1),m=z(),{get:b}=D(),v=F({email:u().required().email(),password:u().required()}),{handleSubmit:V,setErrors:w,resetForm:x}=T({validationSchema:v}),{value:l,errorMessage:S}=p("email"),{value:i,errorMessage:y}=p("password"),h=V(n=>{L.post("/login",n,{onStart:()=>{},onError:e=>{w(e)},onSuccess:()=>{x()}})});return q(()=>{b("logged_out")&&m.resetAllStores()}),(n,e)=>(g(),f(W,null,{default:s(()=>[a(o(B),{title:"Login"}),a(I,{class:"px-8 pt-8 pb-10",width:"460",elevation:"1"},{default:s(()=>[a(M,{class:"mx-auto mb-2",width:180,src:"/images/main/logo-dark.svg"}),a(C,{class:"card",variant:"text",title:"Welcome",subtitle:"Please, sign in to your account"},{default:s(()=>[a(o(U),{onSubmit:o(h),class:"d-flex flex-column ga-1 mt-5"},{default:s(()=>[a(c,{color:"lime-accent-4",autocomplete:"username",label:"Email",name:"email",type:"email",modelValue:o(l),"onUpdate:modelValue":e[0]||(e[0]=t=>d(l)?l.value=t:null),"error-messages":o(S),"hide-details":!1,required:""},null,8,["modelValue","error-messages"]),a(c,{color:"lime-accent-4",autocomplete:"current-password",label:"Password",name:"password",type:r.value?"text":"password",modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>d(i)?i.value=t:null),"error-messages":o(y),"hide-details":!1,"append-inner-icon":r.value?o(O):o(Q),"onClick:appendInner":e[2]||(e[2]=t=>r.value=!r.value),required:""},null,8,["type","modelValue","error-messages","append-inner-icon"]),a(j,{class:"mt-2",color:"lime-accent-4",type:"submit"},{default:s(()=>[...e[3]||(e[3]=[A(" Sign in ",-1)])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}))}},_e=R(H,[["__scopeId","data-v-b91f8fce"]]);export{_e as default};
