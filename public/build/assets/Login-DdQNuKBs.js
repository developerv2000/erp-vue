import{v as k,c as f,o as g,w as s,a,dc as E,aM as L,h as P,m as $,n as u,j as q,i as F,b as o,aL as M,L as B,aq as I,y as C,x as d,B as j,g as A}from"./app-BLgoNwh9.js";import{V as G,a as N}from"./VMain-CmbiWjhz.js";import{u as T,a as p,F as U}from"./vee-validate-Drp1LwNg.js";import{u as z}from"./global-p80oGj8c.js";import{u as O}from"./useQueryParams-DDDdTybf.js";import{_ as c}from"./DefaultTextField-DLLz5uQ3.js";import{m as Q,a as R}from"./mdi-FFd_BlEo.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./layout-y2KlO_d9.js";import"./notifications-D7-HyuMy.js";import"./queryHelper-C2x2SXyh.js";import"./processesTable-uA5X_qMy.js";import"./processStatusHistoryTable-CBjXxKTj.js";import"./productsTable-BLcZaBVv.js";import"./attachments-CxQdauOI.js";import"./comments-Ay0h32nL.js";import"./manufacturersTable-DrB2o6yK.js";import"./usersTable-DsixxUmd.js";import"./kpi-DKQzWN0y.js";import"./useAuth-DdAYRigt.js";import"./WrappedLabelGroup-mjx86u9J.js";const D={__name:"GuestLayout",setup(_){return k.get("/sanctum/csrf-cookie"),(r,m)=>(g(),f(N,null,{default:s(()=>[a(G,{class:"d-flex align-center justify-center",style:{backgroundImage:"url('/images/auth/background.png')",backgroundSize:"cover",backgroundPosition:"right bottom"}},{default:s(()=>[a(E,{theme:"light"},{default:s(()=>[L(r.$slots,"default")]),_:3})]),_:3})]),_:3}))}},H={__name:"Login",setup(_){const r=P(!1),m=z(),{get:b}=O(),v=$({email:u().required().email(),password:u().required()}),{handleSubmit:V,setErrors:w,resetForm:x}=T({validationSchema:v}),{value:l,errorMessage:S}=p("email"),{value:i,errorMessage:y}=p("password"),h=V(n=>{q.post("/login",n,{onStart:()=>{},onError:e=>{w(e)},onSuccess:()=>{x()}})});return F(()=>{b("logged_out")&&m.resetAllStores()}),(n,e)=>(g(),f(D,null,{default:s(()=>[a(o(M),{title:"Login"}),a(B,{class:"px-8 pt-8 pb-10",width:"460",elevation:"1"},{default:s(()=>[a(I,{class:"mx-auto mb-2",width:180,src:"/images/main/logo-dark.svg"}),a(C,{class:"card",variant:"text",title:"Welcome",subtitle:"Please, sign in to your account"},{default:s(()=>[a(o(U),{onSubmit:o(h),class:"d-flex flex-column ga-1 mt-5"},{default:s(()=>[a(c,{color:"lime-accent-4",autocomplete:"username",label:"Email",name:"email",type:"email",modelValue:o(l),"onUpdate:modelValue":e[0]||(e[0]=t=>d(l)?l.value=t:null),"error-messages":o(S),"hide-details":!1,required:""},null,8,["modelValue","error-messages"]),a(c,{color:"lime-accent-4",autocomplete:"current-password",label:"Password",name:"password",type:r.value?"text":"password",modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>d(i)?i.value=t:null),"error-messages":o(y),"hide-details":!1,"append-inner-icon":r.value?o(Q):o(R),"onClick:appendInner":e[2]||(e[2]=t=>r.value=!r.value),required:""},null,8,["type","modelValue","error-messages","append-inner-icon"]),a(j,{class:"mt-2",color:"lime-accent-4",type:"submit"},{default:s(()=>[...e[3]||(e[3]=[A(" Sign in ",-1)])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}))}},_e=W(H,[["__scopeId","data-v-b91f8fce"]]);export{_e as default};
