import{B as k,c as f,o as g,w as o,a,cW as E,m as P,h as $,v as q,x as u,j as F,i as I,b as s,aT as B,q as C,aw as L,V as M,C as d,I as T,g as j}from"./app-CNcla55t.js";import{V as A,a as G}from"./VMain-CCylSyUa.js";import{u as N,a as c,F as U}from"./vee-validate-BP8vvQZA.js";import{u as W}from"./global-C9nSI7b5.js";import{u as z}from"./useQueryParams-B_tqYq6J.js";import{_ as p}from"./DefaultTextField-CXvhgOVE.js";import{m as O,a as Q}from"./mdi-_GS73Yti.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./layout-xE-9E8AY.js";import"./processesTable-CSO8LT6L.js";import"./queryHelper-zuYrvkeK.js";import"./processStatusHistoryTable-CK5Gy8KU.js";import"./productsTable-XRkbjG2q.js";import"./attachments-CSAmEIfo.js";import"./comments-DCQIACkP.js";import"./manufacturersTable-ClgmiakP.js";import"./WrappedLabelGroup-BNv4-qkj.js";const D={__name:"GuestLayout",setup(_){return k.get("/sanctum/csrf-cookie"),(r,m)=>(g(),f(G,null,{default:o(()=>[a(A,{class:"d-flex align-center justify-center",style:{backgroundImage:"url('/images/auth/background.png')",backgroundSize:"cover",backgroundPosition:"right bottom"}},{default:o(()=>[a(E,{theme:"light"},{default:o(()=>[P(r.$slots,"default")]),_:3})]),_:3})]),_:3}))}},H={__name:"Login",setup(_){const r=$(!1),m=W(),{get:b}=z(),v=q({email:u().required().email(),password:u().required()}),{handleSubmit:V,setErrors:w,resetForm:x}=N({validationSchema:v}),{value:l,errorMessage:S}=c("email"),{value:i,errorMessage:h}=c("password"),y=V(n=>{F.post("/login",n,{onStart:()=>{},onError:e=>{w(e)},onSuccess:()=>{x()}})});return I(()=>{b("logged_out")&&m.resetAllStores()}),(n,e)=>(g(),f(D,null,{default:o(()=>[a(s(B),{title:"Login"}),a(C,{class:"px-8 pt-8 pb-10",width:"460",elevation:"1"},{default:o(()=>[a(L,{class:"mx-auto mb-2",width:180,src:"/images/main/logo-dark.svg"}),a(M,{class:"card",variant:"text",title:"Welcome",subtitle:"Please, sign in to your account"},{default:o(()=>[a(s(U),{onSubmit:s(y),class:"d-flex flex-column ga-1 mt-5"},{default:o(()=>[a(p,{color:"lime-accent-4",autocomplete:"username",label:"Email",name:"email",type:"email",modelValue:s(l),"onUpdate:modelValue":e[0]||(e[0]=t=>d(l)?l.value=t:null),"error-messages":s(S),"hide-details":!1,required:""},null,8,["modelValue","error-messages"]),a(p,{color:"lime-accent-4",autocomplete:"current-password",label:"Password",name:"password",type:r.value?"text":"password",modelValue:s(i),"onUpdate:modelValue":e[1]||(e[1]=t=>d(i)?i.value=t:null),"error-messages":s(h),"hide-details":!1,"append-inner-icon":r.value?s(O):s(Q),"onClick:appendInner":e[2]||(e[2]=t=>r.value=!r.value),required:""},null,8,["type","modelValue","error-messages","append-inner-icon"]),a(T,{class:"mt-2",color:"lime-accent-4",type:"submit"},{default:o(()=>[...e[3]||(e[3]=[j(" Sign in ",-1)])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}))}},ce=R(H,[["__scopeId","data-v-b91f8fce"]]);export{ce as default};
