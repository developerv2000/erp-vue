import{f as w,o as _,ay as $,u as V,d as P,i as v,c as b,w as t,a as r,g as s,e as l,t as i,b as a,k as z,az as D}from"./app-CMSjNDK4.js";import{u as I}from"./useQueryParams-DSJ1dPLe.js";import{u as S}from"./manufacturersTable-CuVYg8an.js";import{u as M}from"./useDateFormatter-DsH7D03H.js";import{_ as A,D as C,V as L}from"./TableNavigateToPage-DZtY5LO0.js";import N from"./ManufacturersTableTop-D2zEgkDq.js";import{T as U}from"./TableDefaultSkeleton-DT6c-9fp.js";import{_ as j}from"./TdEditButton-XbcLimv4.js";import{_ as B}from"./TdManufacturerCategory-CA1iQ8Nb.js";import{_ as k}from"./TdAva-BmJkUSjY.js";import{T as x}from"./TdInertiaLink-B9gRn9a5.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as d}from"./TogglableThreeLinesLimitedText-ABbZkxse.js";import{_ as F}from"./TdRecordCommentsLink-B7BO6V-0.js";import{_ as O,T as R}from"./TdRecordAttachmentsLink-C4_W-8Lu.js";import{T}from"./TdMediumWeightText-DnRG7HJP.js";import"./queryHelper-LZTJtzGq.js";import"./VTable-C3mZiDDs.js";import"./useAuth-DUKBtqsc.js";import"./DefaultTableToolbar-ChjBEH8E.js";import"./DefaultButton-CFfFCqKo.js";import"./mdi-BZMfrfO1.js";import"./NewRecordButton-BGkp3A9R.js";import"./InertiaLinkedButton-DorstYuu.js";import"./DeleteSelectedButton-DzFN32rJ.js";import"./messages-eCh_LZOb.js";import"./ExportButton-bGCLepUF.js";import"./InertiaLinkedListItem-BrdavfpC.js";import"./layout-iV_7-Czz.js";import"./ColumnsListItem-yqIXi0oD.js";import"./VRow-Dvbb8rke.js";import"./VSwitch-apHMLF3B.js";import"./VNumberInput-BfmNjXd2.js";import"./FullscreenListItem-D0C4kfGX.js";import"./filter-gwBCF0wV.js";import"./InertiaLinkedButtonedIcon-YSpz34KH.js";import"./InertiaLink-B9Riv5UN.js";/* empty css                                                                          */import"./TdArrowedInertiaLink-qdE8x58e.js";const G=["href"],H={__name:"TdLink",props:{link:String},setup(u){return(n,f)=>(_(),w("a",{class:"td-link text-primary text-decoration-none",href:u.link},[$(n.$slots,"default",{},void 0,!0)],8,G))}},Q=E(H,[["__scopeId","data-v-e2046a59"]]),W={class:"text-lowercase"},q={class:"text-lowercase"},Ce={__name:"ManufacturersTable",setup(u){const{t:n}=V(),{get:f}=I(),g=P(),o=S(),{formatDate:c}=M();v(()=>{(!o.initializedFromInertiaPage||f("initialize_from_inertia_page"))&&o.initFromInertiaPage(g),o.detectCurrentPage(),o.fetchRecords({updateUrl:!0})});function y(p){o.fetchRecordsIfOptionsChanged(p)}return(p,h)=>(_(),b(L,{class:"main-table main-table--limited-height main-table--with-filter",headers:a(g).props.tableVisibleHeaders,modelValue:a(o).selected,"onUpdate:modelValue":h[0]||(h[0]=e=>a(o).selected=e),items:a(o).records,"items-length":a(o).pagination.total_records,page:a(o).pagination.page,"items-per-page":a(o).pagination.per_page,"items-per-page-options":a(C),"sort-by":[{key:a(o).pagination.order_by,order:a(o).pagination.order_direction}],"onUpdate:options":y,loading:a(o).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[r(N)]),loading:t(()=>[r(U)]),"footer.prepend":t(()=>[r(A,{store:a(o)},null,8,["store"])]),"item.deleted_at":t(({item:e})=>[s(i(a(c)(e.deleted_at)),1)]),"item.edit":t(({item:e})=>[r(j,{link:p.route("mad.manufacturers.edit",e.id)},null,8,["link"])]),"item.bdm_user_id":t(({item:e})=>[r(k,{user:e.bdm},null,8,["user"])]),"item.analyst_user_id":t(({item:e})=>[r(k,{user:e.analyst},null,8,["user"])]),"item.country_id":t(({item:e})=>[s(i(e.country.name),1)]),"item.products_count":t(({item:e})=>[r(x,{link:p.route("mad.products.index",{"manufacturer_id[]":e.id,initialize_from_inertia_page:!0})},{default:t(()=>[s(i(e.products_count)+" ",1),l("span",W,i(a(n)("Products")),1)]),_:2},1032,["link"])]),"item.name":t(({item:e})=>[s(i(e.name),1)]),"item.category_id":t(({item:e})=>[r(B,{name:e.category.name},null,8,["name"])]),"item.active":t(({item:e})=>[r(T,{class:D({"text-green":e.active,"text-brown":!e.active})},{default:t(()=>[s(i(e.active?a(n)("properties.Active"):a(n)("properties.Stopped")),1)]),_:2},1032,["class"])]),"item.important":t(({item:e})=>[e.important?(_(),b(T,{key:0,class:"text-red"},{default:t(()=>[s(i(a(n)("properties.Important")),1)]),_:1})):z("",!0)]),"item.product_classes_name":t(({item:e})=>[l("span",null,i(e.product_classes.map(m=>m.name).join(" ")),1)]),"item.zones_name":t(({item:e})=>[l("span",null,i(e.zones.map(m=>m.name).join(" ")),1)]),"item.blacklists_name":t(({item:e})=>[l("span",null,i(e.blacklists.map(m=>m.name).join(" ")),1)]),"item.presences_name":t(({item:e})=>[l("span",null,i(e.presences.map(m=>m.name).join(" ")),1)]),"item.website":t(({item:e})=>[r(Q,{link:e.website,target:"_blank"},{default:t(()=>[r(d,{text:e.website},null,8,["text"])]),_:2},1032,["link"])]),"item.about":t(({item:e})=>[r(d,{text:e.about},null,8,["text"])]),"item.relationship":t(({item:e})=>[r(d,{text:e.relationship},null,8,["text"])]),"item.comments_count":t(({item:e})=>[r(F,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[r(d,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.last_comment_created_at":t(({item:e})=>[s(i(a(c)(e.last_comment?.created_at)),1)]),"item.created_at":t(({item:e})=>[s(i(a(c)(e.created_at)),1)]),"item.updated_at":t(({item:e})=>[s(i(a(c)(e.updated_at)),1)]),"item.meetings_count":t(({item:e})=>[r(x,{link:p.route("mad.manufacturers.index",{"manufacturer_id[]":e.id,initialize_from_inertia_page:!0})},{default:t(()=>[s(i(e.meetings_count)+" ",1),l("span",q,i(a(n)("pages.Meetings")),1)]),_:2},1032,["link"])]),"item.attachments_count":t(({item:e})=>[r(O,{record:e},null,8,["record"]),r(R,{attachments:e.attachments},null,8,["attachments"])]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{Ce as default};
