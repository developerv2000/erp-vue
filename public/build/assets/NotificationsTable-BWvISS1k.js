import{u as h,d as b,i as T,c as m,o as d,w as o,g as l,t as c,b as e,b_ as D,a as r,a2 as x}from"./app-C0zSqAfj.js";import{u as y}from"./useQueryParams-BpPXzLUU.js";import{u as P}from"./notifications-C6MF7Wbo.js";import{u as V}from"./useDateFormatter-CfJ0JtCq.js";import{_ as w,D as C,V as N}from"./TableNavigateToPage-Bvs9-hFG.js";import S from"./NotificationsTableTop-DwMHqogZ.js";import{T as I}from"./TableDefaultSkeleton-B-bb-lvR.js";import{T as M}from"./TdMediumWeightText-BWtVVLhv.js";import U from"./ProcessStageChangedToContract-aN_gwG1l.js";import"./queryHelper-zuYrvkeK.js";import"./VTable-DDWJYS8C.js";import"./global-NIcMjpvY.js";import"./processesTable-Jc6-Kz8E.js";import"./processStatusHistoryTable-D3NNSPND.js";import"./productsTable-DprObxnX.js";import"./attachments-DtTAGw4r.js";import"./comments-ByphvGL9.js";import"./manufacturersTable-CB7VXZUD.js";import"./useAuth-DfjDAGFg.js";import"./FullscreenListItem-CqTQxt9D.js";import"./DefaultButton-HVgzgV1x.js";import"./mdi-BINEaKNx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DeleteSelectedButton-gwrIR9e0.js";import"./messages-CzH3BBFj.js";import"./NotificationsMarkSelectedAsRead-C_Hd_4ph.js";import"./filter-CKwsHNQn.js";import"./InertiaLink-DBWD4rB1.js";const pe={__name:"NotificationsTable",setup(k){const{t:i}=h(),{get:g}=y(),s=b(),t=P(),{formatDate:_}=V(),u={ProcessStageChangedToContract:U};T(()=>{(!t.initializedFromInertiaPage||g("initialize_from_inertia_page"))&&t.initFromInertiaPage(s),t.fetchRecords({updateUrl:!0})});function f(p){t.fetchRecordsIfOptionsChanged(p)}return(p,n)=>(d(),m(N,{class:"main-table main-table--limited-height",headers:e(s).props.allTableHeaders,modelValue:e(t).selected,"onUpdate:modelValue":n[0]||(n[0]=a=>e(t).selected=a),items:e(t).records,"items-length":e(t).pagination.total_records,page:e(t).pagination.page,"items-per-page":e(t).pagination.per_page,"items-per-page-options":e(C),"sort-by":[{key:e(t).pagination.order_by,order:e(t).pagination.order_direction}],"onUpdate:options":f,loading:e(t).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:o(()=>[r(S)]),loading:o(()=>[r(I)]),"footer.prepend":o(()=>[r(w,{store:e(t)},null,8,["store"])]),"item.read_at":o(({item:a})=>[r(M,{class:x({"text-orange":!a.read_at,"text-brown":a.read_at})},{default:o(()=>[l(c(a.read_at?e(i)("properties.Read"):e(i)("properties.New")),1)]),_:2},1032,["class"])]),"item.text":o(({item:a})=>[(d(),m(D(u[a.data.type]),{data:a.data},null,8,["data"]))]),"item.created_at":o(({item:a})=>[l(c(e(_)(a.created_at,"DD MMM YYYY HH:mm")),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{pe as default};
