import{u as h,d as T,i as b,c as n,o as d,w as o,g as l,t as c,b as e,c4 as y,a as r,aN as D}from"./app-BNo3BRZK.js";import{u as x}from"./useQueryParams-CSUAr9Lh.js";import{u as P}from"./notifications-CMQhZgJC.js";import{u as N}from"./useDateFormatter-BmNfNSqK.js";import{_ as V,D as w,V as C}from"./TableNavigateToPage-C7Fq1Dzs.js";import M from"./NotificationsTableTop-BXuDB4c7.js";import{T as S}from"./TableDefaultSkeleton-Df9cIq1u.js";import{T as k}from"./TdMediumWeightText-DTJwhD9s.js";import F from"./ProcessStageChangedToContract-C7-MyrME.js";import I from"./ProcessMarkedAsReadyForOrder-CtvdZMPP.js";import"./queryHelper-C2x2SXyh.js";import"./VTable-D_D7iml7.js";import"./global-D6MjQ0eg.js";import"./processesTable-DPkTOcMJ.js";import"./processStatusHistoryTable-DvHlBA9L.js";import"./productsTable-DNWXQY2R.js";import"./attachments-BJYYVVB2.js";import"./comments-tUKV5Khd.js";import"./manufacturersTable-CJSwRuvl.js";import"./usersTable-DGLRepJo.js";import"./kpi-D8F2vbOi.js";import"./useAuth-Ch3vS9aF.js";import"./DefaultTableToolbar-B9IydUBw.js";import"./DefaultButton-DV9vALRm.js";import"./mdi-FFd_BlEo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DeleteSelectedButton-BGRjUhI0.js";import"./messages-Cs0KdrfF.js";import"./NotificationsMarkSelectedAsRead-BzHVtpNx.js";import"./FullscreenListItem-Dcvtlb4J.js";import"./filter-l9f7gJs0.js";import"./InertiaLink-BQiAElPX.js";const ce={__name:"NotificationsTable",setup(O){const{t:i}=h(),{get:g}=x(),s=T(),t=P(),{formatDate:_}=N(),f={ProcessStageChangedToContract:F,ProcessMarkedAsReadyForOrder:I};b(()=>{(!t.initializedFromInertiaPage||g("initialize_from_inertia_page"))&&t.initFromInertiaPage(s),t.fetchRecords({updateUrl:!0})});function u(p){t.fetchRecordsIfOptionsChanged(p)}return(p,m)=>(d(),n(C,{class:"main-table main-table--limited-height",headers:e(s).props.allTableHeaders,modelValue:e(t).selected,"onUpdate:modelValue":m[0]||(m[0]=a=>e(t).selected=a),items:e(t).records,"items-length":e(t).pagination.total_records,page:e(t).pagination.page,"items-per-page":e(t).pagination.per_page,"items-per-page-options":e(w),"sort-by":[{key:e(t).pagination.order_by,order:e(t).pagination.order_direction}],"onUpdate:options":u,loading:e(t).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:o(()=>[r(M)]),loading:o(()=>[r(S)]),"footer.prepend":o(()=>[r(V,{store:e(t)},null,8,["store"])]),"item.read_at":o(({item:a})=>[r(k,{class:D({"text-orange":!a.read_at,"text-brown":a.read_at})},{default:o(()=>[l(c(a.read_at?e(i)("properties.Read"):e(i)("properties.New")),1)]),_:2},1032,["class"])]),"item.text":o(({item:a})=>[(d(),n(y(f[a.data.type]),{data:a.data},null,8,["data"]))]),"item.created_at":o(({item:a})=>[l(c(e(_)(a.created_at,"DD MMM YYYY HH:mm")),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{ce as default};
