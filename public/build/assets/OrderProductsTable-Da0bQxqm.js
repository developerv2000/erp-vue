import{u as c,d as f,i as g,c as b,o as h,w as t,g as i,t as s,b as o,a}from"./app-BNo3BRZK.js";import{u as y}from"./useQueryParams-CSUAr9Lh.js";import{u as k}from"./orderProducts-Q7ByqHdz.js";import{u as T}from"./useDateFormatter-BmNfNSqK.js";import{_ as x,D as P,V as D}from"./TableNavigateToPage-C7Fq1Dzs.js";import V from"./OrdersTableTop-CFhny8pf.js";import{T as z}from"./TableDefaultSkeleton-Df9cIq1u.js";import{_ as I}from"./TdEditButton-TPj3LjdB.js";import{T as O}from"./TdInertiaLink-Dx2diuCn.js";import{_ as n}from"./TogglableThreeLinesLimitedText-C3DjCvrW.js";import{_ as $}from"./TdRecordCommentsLink-nB_sDD3j.js";import{_ as w}from"./TdOrderStatus-F5CO5Ebf.js";import"./queryHelper-C2x2SXyh.js";import"./VTable-D_D7iml7.js";import"./orders-Dlh2Ug-S.js";import"./useAuth-Ch3vS9aF.js";import"./DefaultTableToolbar-B9IydUBw.js";import"./DefaultButton-DV9vALRm.js";import"./mdi-FFd_BlEo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NewRecordButton-U-PJ0yPY.js";import"./DeleteSelectedButton-BGRjUhI0.js";import"./messages-Cs0KdrfF.js";import"./ColumnsListItem-ZXoEV_B2.js";import"./VRow-CaL1JTsj.js";import"./VSwitch-Cm8IRyME.js";import"./VNumberInput-BYmtFQh2.js";import"./FullscreenListItem-Dcvtlb4J.js";import"./filter-l9f7gJs0.js";import"./InertiaLinkedButtonedIcon-_7Nl_zaF.js";import"./InertiaLink-BQiAElPX.js";import"./TdMediumWeightText-DTJwhD9s.js";const de={__name:"OrderProductsTable",setup(S){const{t:U}=c(),{get:d}=y(),p=f(),r=k(),{formatDate:_}=T();g(()=>{(!r.initializedFromInertiaPage||d("initialize_from_inertia_page"))&&r.initFromInertiaPage(p),r.fetchRecords({updateUrl:!0})});const u=m=>{r.fetchRecordsIfOptionsChanged(m)};return(m,l)=>(h(),b(D,{class:"main-table main-table--limited-height main-table--with-filter",headers:o(p).props.tableVisibleHeaders,modelValue:o(r).selected,"onUpdate:modelValue":l[0]||(l[0]=e=>o(r).selected=e),items:o(r).records,"items-length":o(r).pagination.total_records,page:o(r).pagination.page,"items-per-page":o(r).pagination.per_page,"items-per-page-options":o(P),"sort-by":[{key:o(r).pagination.order_by,order:o(r).pagination.order_direction}],"onUpdate:options":u,loading:o(r).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[a(V)]),loading:t(()=>[a(z)]),"footer.prepend":t(()=>[a(x,{store:o(r)},null,8,["store"])]),"item.edit":t(({item:e})=>[a(I,{link:m.route("pld.order-products.edit",e.id)},null,8,["link"])]),"item.order_manufacturer_id":t(({item:e})=>[i(s(e.order.manufacturer.name),1)]),"item.order_country_id":t(({item:e})=>[i(s(e.order.country.code),1)]),"item.order_id":t(({item:e})=>[a(O,{link:m.route("pld.orders.index",{"id[]":e.order.id,initialize_from_inertia_page:!0})},{default:t(()=>[i(s(e.order.title),1)]),_:2},1032,["link"])]),"item.process_trademark_en":t(({item:e})=>[a(n,{class:"main-table__last-comment",text:e.process.full_english_product_label},null,8,["text"])]),"item.process_trademark_ru":t(({item:e})=>[a(n,{class:"main-table__last-comment",text:e.process.full_russian_product_label},null,8,["text"])]),"item.process_marketing_authorization_holder_id":t(({item:e})=>[i(s(e.process.mah.name),1)]),"item.status":t(({item:e})=>[a(w,{status:e.status},null,8,["status"])]),"item.comments_count":t(({item:e})=>[a($,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[a(n,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.serialization_type_id":t(({item:e})=>[i(s(e.serialization_type.name),1)]),"item.layout_approved_date":t(({item:e})=>[i(s(o(_)(e.layout_approved_date)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{de as default};
