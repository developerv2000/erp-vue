import{d as u,i as f,c as g,o as y,w as t,g as i,t as a,b as r,e as h,az as b,a as n}from"./app-7F7n231s.js";import{u as k}from"./useQueryParams-By3b4qRt.js";import{u as v}from"./orderProducts-CXz9ERUG.js";import{u as x}from"./useDateFormatter-aJ6VLTy8.js";import{_ as T,D as P,V}from"./TableNavigateToPage-JUjryIyR.js";import z from"./OrderProductsTableTop-CjcDm2zL.js";import{T as D}from"./TableDefaultSkeleton-BaeU0W2c.js";import{_ as O}from"./TdEditButton-Dprr0zMl.js";import{T as $}from"./TdInertiaLink-BPZmPvGT.js";import{_}from"./TogglableThreeLinesLimitedText-DyPGs0gT.js";import{_ as w}from"./TdRecordCommentsLink-C9WYyDNz.js";import{_ as I}from"./TdOrderStatus-6e7meRXu.js";import"./queryHelper-LZTJtzGq.js";import"./VTable-U-Sj7N5B.js";import"./useAuth-DFZ3-HmZ.js";import"./DefaultTableToolbar-B9obmYFS.js";import"./DefaultButton-CwMkA5bK.js";import"./mdi-BZMfrfO1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DeleteSelectedButton-CdgdXmUZ.js";import"./messages-BpNGX81Q.js";import"./ColumnsListItem-BX6KA4xS.js";import"./VRow-CyQ_eN64.js";import"./VSwitch-DlGrUDDt.js";import"./VNumberInput-C9eUyK9o.js";import"./FullscreenListItem-DSVypZo6.js";import"./filter-P6R30PoH.js";import"./InertiaLinkedButtonedIcon-CLMZoIa6.js";import"./InertiaLink-DCnIw60K.js";const se={__name:"OrderProductsTable",setup(S){const{get:l}=k(),p=u(),o=v(),{formatDate:m}=x();f(()=>{(!o.initializedFromInertiaPage||l("initialize_from_inertia_page"))&&o.initFromInertiaPage(p),o.fetchRecords({updateUrl:!0})});const c=s=>{o.fetchRecordsIfOptionsChanged(s)};return(s,d)=>(y(),g(V,{class:"main-table main-table--limited-height main-table--with-filter",headers:r(p).props.tableVisibleHeaders,modelValue:r(o).selected,"onUpdate:modelValue":d[0]||(d[0]=e=>r(o).selected=e),items:r(o).records,"items-length":r(o).pagination.total_records,page:r(o).pagination.page,"items-per-page":r(o).pagination.per_page,"items-per-page-options":r(P),"sort-by":[{key:r(o).pagination.order_by,order:r(o).pagination.order_direction}],"onUpdate:options":c,loading:r(o).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[n(z)]),loading:t(()=>[n(D)]),"footer.prepend":t(()=>[n(T,{store:r(o)},null,8,["store"])]),"item.edit":t(({item:e})=>[n(O,{link:s.route("pld.order-products.edit",e.id)},null,8,["link"])]),"item.order_manufacturer_id":t(({item:e})=>[i(a(e.order.manufacturer.name),1)]),"item.order_country_id":t(({item:e})=>[i(a(e.order.country.code),1)]),"item.order_id":t(({item:e})=>[n($,{link:s.route("pld.orders.index",{"id[]":e.order.id,initialize_from_inertia_page:!0})},{default:t(()=>[i(a(e.order.title),1)]),_:2},1032,["link"])]),"item.process_trademark_en":t(({item:e})=>[n(_,{text:e.process.full_english_product_label},null,8,["text"])]),"item.process_trademark_ru":t(({item:e})=>[n(_,{text:e.process.full_russian_product_label},null,8,["text"])]),"item.process_marketing_authorization_holder_id":t(({item:e})=>[i(a(e.process.mah.name),1)]),"item.order_currency_id":t(({item:e})=>[i(a(e.order.currency?.name),1)]),"item.total_price":t(({item:e})=>[i(a(e.total_price),1)]),"item.status":t(({item:e})=>[n(I,{status:e.status},null,8,["status"])]),"item.comments_count":t(({item:e})=>[n(w,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[n(_,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.serialization_type_id":t(({item:e})=>[i(a(e.serialization_type.name),1)]),"item.production_status":t(({item:e})=>[h("div",{class:b({"text-green":e.is_ready_for_shipment_from_manufacturer})},a(e.production_status),3)]),"item.layout_approved_date":t(({item:e})=>[i(a(r(m)(e.layout_approved_date)),1)]),"item.production_prepayment_invoice_payment_completed_date":t(({item:e})=>[i(a(r(m)(e.production_prepayment_invoice?.payment_completed_date)),1)]),"item.production_end_date":t(({item:e})=>[i(a(r(m)(e.production_end_date)),1)]),"item.production_final_or_full_payment_invoice_sent_for_payment_date":t(({item:e})=>[i(a(r(m)(e.production_final_or_full_payment_invoice?.sent_for_payment_date)),1)]),"item.production_final_or_full_payment_invoice_payment_completed_date":t(({item:e})=>[i(a(r(m)(e.production_final_or_full_payment_invoice?.payment_completed_date)),1)]),"item.readiness_for_shipment_from_manufacturer_date":t(({item:e})=>[i(a(r(m)(e.readiness_for_shipment_from_manufacturer_date)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{se as default};
