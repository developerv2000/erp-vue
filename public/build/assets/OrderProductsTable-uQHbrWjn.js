import{u as g,d as b,i as y,c as l,o as u,w as t,g as a,t as i,b as r,k as h,a as m}from"./app-CQVFqoTu.js";import{u as k}from"./useQueryParams-D2yBeCAD.js";import{u as w}from"./orderProducts-DX6LMTyq.js";import{u as x}from"./useDateFormatter-Dohrib_q.js";import{_ as D,D as P,V as T}from"./TableNavigateToPage-Ch6VSmLc.js";import V from"./OrderProductsTableTop-DBGSxhrk.js";import{T as v}from"./TableDefaultSkeleton-CrF3Vu3R.js";import{_ as O}from"./TdEditButton-ClYynxU9.js";import{_}from"./TogglableThreeLinesLimitedText-DZBOTZAV.js";import{_ as $}from"./TdRecordCommentsLink-DabP4a_Q.js";import{_ as I}from"./TdOrderProductLayoutStatus-DERCfcJc.js";import"./queryHelper-LZTJtzGq.js";import"./createRecordActions-Ba682ZE6.js";import"./VTable-LjAPFHLB.js";import"./DefaultTableToolbar-PtA0RznB.js";import"./DefaultButton-B_v1FrQC.js";import"./mdi-BiCQTzTv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ColumnsListItem-Bi14HEMt.js";import"./VRow-DY7ZvkVD.js";import"./VSwitch-DgnXx1O6.js";import"./VNumberInput-BCJiuLoL.js";import"./FullscreenListItem-C0djHahF.js";import"./filter-DXn2-kQs.js";import"./InertiaLinkedButtonedIcon-BOM3TBGT.js";import"./TdInertiaLink-Cx0hgVY8.js";import"./InertiaLink-BY5vQ9VV.js";const me={__name:"OrderProductsTable",setup(S){const{t:U}=g(),{get:c}=k(),d=b(),o=w(),{formatDate:n}=x();y(()=>{(!o.initializedFromInertiaPage||c("initialize_from_inertia_page"))&&o.initFromInertiaPage(d),o.fetchRecords({updateUrl:!0})});const f=s=>{o.fetchRecordsIfOptionsChanged(s)};return(s,p)=>(u(),l(T,{class:"main-table main-table--limited-height main-table--with-filter",headers:r(d).props.tableVisibleHeaders,modelValue:r(o).selected,"onUpdate:modelValue":p[0]||(p[0]=e=>r(o).selected=e),items:r(o).records,"items-length":r(o).pagination.total_records,page:r(o).pagination.page,"items-per-page":r(o).pagination.per_page,"items-per-page-options":r(P),"sort-by":[{key:r(o).pagination.order_by,order:r(o).pagination.order_direction}],"onUpdate:options":f,loading:r(o).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[m(V)]),loading:t(()=>[m(v)]),"footer.prepend":t(()=>[m(D,{store:r(o)},null,8,["store"])]),"item.edit":t(({item:e})=>[m(O,{link:s.route("dd.order-products.edit",e.id)},null,8,["link"])]),"item.id":t(({item:e})=>[a(i(e.id),1)]),"item.order_manufacturer_id":t(({item:e})=>[a(i(e.order.manufacturer.name),1)]),"item.order_country_id":t(({item:e})=>[a(i(e.order.country.code),1)]),"item.process_trademark_en":t(({item:e})=>[m(_,{text:e.process.full_english_product_label},null,8,["text"])]),"item.process_trademark_ru":t(({item:e})=>[m(_,{text:e.process.full_russian_product_label},null,8,["text"])]),"item.process_marketing_authorization_holder_id":t(({item:e})=>[a(i(e.process.mah.name),1)]),"item.order_sent_to_bdm_date":t(({item:e})=>[a(i(r(n)(e.order.sent_to_bdm_date)),1)]),"item.order_name":t(({item:e})=>[a(i(e.order.name),1)]),"item.order_sent_to_manufacturer_date":t(({item:e})=>[a(i(r(n)(e.order.sent_to_manufacturer_date)),1)]),"item.comments_count":t(({item:e})=>[m($,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[m(_,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.new_layout":t(({item:e})=>[e.layout_approved_date?(u(),l(I,{key:0,"new-layout":e.new_layout},null,8,["new-layout"])):h("",!0)]),"item.date_of_sending_new_layout_to_manufacturer":t(({item:e})=>[a(i(r(n)(e.date_of_sending_new_layout_to_manufacturer)),1)]),"item.date_of_receiving_print_proof_from_manufacturer":t(({item:e})=>[a(i(r(n)(e.date_of_receiving_print_proof_from_manufacturer)),1)]),"item.layout_approved_date":t(({item:e})=>[a(i(r(n)(e.layout_approved_date)),1)]),"item.created_at":t(({item:e})=>[a(i(r(n)(e.created_at)),1)]),"item.updated_at":t(({item:e})=>[a(i(r(n)(e.updated_at)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{me as default};
