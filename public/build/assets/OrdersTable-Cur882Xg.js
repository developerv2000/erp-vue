import{u,d as f,i as g,c as b,o as h,w as t,g as s,t as o,b as a,a as i,e as T}from"./app-BNo3BRZK.js";import{u as y}from"./useQueryParams-CSUAr9Lh.js";import{u as k}from"./orders-Dlh2Ug-S.js";import{u as P}from"./useDateFormatter-BmNfNSqK.js";import{_ as V,D,V as x}from"./TableNavigateToPage-C7Fq1Dzs.js";import $ from"./OrdersTableTop-CFhny8pf.js";import{T as w}from"./TableDefaultSkeleton-Df9cIq1u.js";import{_ as I}from"./TdEditButton-TPj3LjdB.js";import{_ as O}from"./TdAva-B9oKUOjc.js";import{T as S}from"./TdInertiaLink-Dx2diuCn.js";import{_ as U}from"./TogglableThreeLinesLimitedText-C3DjCvrW.js";import{_ as v}from"./TdRecordCommentsLink-nB_sDD3j.js";import{_ as F}from"./TdOrderStatus-F5CO5Ebf.js";import"./queryHelper-C2x2SXyh.js";import"./VTable-D_D7iml7.js";import"./useAuth-Ch3vS9aF.js";import"./DefaultTableToolbar-B9IydUBw.js";import"./DefaultButton-DV9vALRm.js";import"./mdi-FFd_BlEo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NewRecordButton-U-PJ0yPY.js";import"./DeleteSelectedButton-BGRjUhI0.js";import"./messages-Cs0KdrfF.js";import"./ColumnsListItem-ZXoEV_B2.js";import"./VRow-CaL1JTsj.js";import"./VSwitch-Cm8IRyME.js";import"./VNumberInput-BYmtFQh2.js";import"./FullscreenListItem-Dcvtlb4J.js";import"./filter-l9f7gJs0.js";import"./InertiaLinkedButtonedIcon-_7Nl_zaF.js";import"./InertiaLink-BQiAElPX.js";import"./TdMediumWeightText-DTJwhD9s.js";const N={class:"text-lowercase"},ue={__name:"OrdersTable",setup(z){const{t:_}=u(),{get:l}=y(),p=f(),r=k(),{formatDate:m}=P();g(()=>{(!r.initializedFromInertiaPage||l("initialize_from_inertia_page"))&&r.initFromInertiaPage(p),r.fetchRecords({updateUrl:!0})});const c=n=>{r.fetchRecordsIfOptionsChanged(n)};return(n,d)=>(h(),b(x,{class:"main-table main-table--limited-height main-table--with-filter",headers:a(p).props.tableVisibleHeaders,modelValue:a(r).selected,"onUpdate:modelValue":d[0]||(d[0]=e=>a(r).selected=e),items:a(r).records,"items-length":a(r).pagination.total_records,page:a(r).pagination.page,"items-per-page":a(r).pagination.per_page,"items-per-page-options":a(D),"sort-by":[{key:a(r).pagination.order_by,order:a(r).pagination.order_direction}],"onUpdate:options":c,loading:a(r).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[i($)]),loading:t(()=>[i(w)]),"footer.prepend":t(()=>[i(V,{store:a(r)},null,8,["store"])]),"item.edit":t(({item:e})=>[i(I,{link:n.route("pld.orders.edit",e.id)},null,8,["link"])]),"item.manufacturer_bdm":t(({item:e})=>[i(O,{user:e.manufacturer.bdm},null,8,["user"])]),"item.receive_date":t(({item:e})=>[s(o(a(m)(e.receive_date)),1)]),"item.manufacturer_id":t(({item:e})=>[s(o(e.manufacturer.name),1)]),"item.country_id":t(({item:e})=>[s(o(e.country.code),1)]),"item.products_count":t(({item:e})=>[i(S,{link:n.route("pld.order-products.index",{"order_id[]":e.id,initialize_from_inertia_page:!0})},{default:t(()=>[T("span",N,o(e.products_count)+" "+o(a(_)("Products")),1)]),_:2},1032,["link"])]),"item.comments_count":t(({item:e})=>[i(v,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[i(U,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.status":t(({item:e})=>[i(F,{status:e.status},null,8,["status"])]),"item.name":t(({item:e})=>[s(o(e.name),1)]),"item.sent_to_bdm_date":t(({item:e})=>[s(o(a(m)(e.sent_to_bdm_date)),1)]),"item.purchase_date":t(({item:e})=>[s(o(a(m)(e.purchase_date)),1)]),"item.confirmation_date":t(({item:e})=>[s(o(a(m)(e.confirmation_date)),1)]),"item.sent_to_manufacturer_date":t(({item:e})=>[s(o(a(m)(e.sent_to_manufacturer_date)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{ue as default};
