import{h as E,r as i,j as q,n as f,q as k,a as M,o as N,w as a,b as r,g as D,t as I,u as e,bf as c}from"./app-DAozJfJi.js";import{u as U,b as w,F as h}from"./vee-validate-D3eE-l8X.js";import{u as B}from"./messages-DMYsu7y-.js";import{D as R}from"./DefaultSheet-Cb7a327k.js";import{_ as j}from"./DefaultTitle-DH_bbtU4.js";import{_}from"./DefaultTextField-D3Lo5c6q.js";import{F as A}from"./FormActionsContainer-Cdv5hsQI.js";import{_ as J}from"./FormUpdateButton-Cmr3SaY5.js";import{_ as K}from"./FormResetButton-DpRbNtYy.js";import{J as v,K as g}from"./mdi-B8JOKl2S.js";import{V as O,a as b}from"./VRow-BvpG3oFW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./WrappedLabelGroup-D-KlSZGz.js";import"./DefaultButton-KwobY4u7.js";const te={__name:"PasswordForm",setup(T){const{t:l}=E(),S=B(),u=i(!1),t=i(!1),n=i(!1),V=q({current_password:f().required().min(4),new_password:f().required().min(4)}),{handleSubmit:y,setErrors:F,resetForm:P}=U({validationSchema:V}),{value:d,errorMessage:$}=w("current_password"),{value:m,errorMessage:C}=w("new_password"),x=y(p=>{k.post(route("profile.update-password"),p,{only:[],preserveScroll:!0,onStart:()=>{u.value=!0},onError:s=>{F(s)},onSuccess:()=>{P(),S.addUpdatedSuccessfullyMessage()},onFinish:()=>{u.value=!1}})});return(p,s)=>(N(),M(R,{class:"mt-8"},{default:a(()=>[r(j,null,{default:a(()=>[D(I(e(l)("forms.Password update")),1)]),_:1}),r(e(h),{onSubmit:e(x)},{default:a(()=>[r(O,null,{default:a(()=>[r(b,null,{default:a(()=>[r(_,{label:e(l)("fields.Current password"),type:t.value?"text":"password",modelValue:e(d),"onUpdate:modelValue":s[0]||(s[0]=o=>c(d)?d.value=o:null),"error-messages":e($),autocomplete:"current-password","append-inner-icon":t.value?e(v):e(g),"onClick:appendInner":s[1]||(s[1]=o=>t.value=!t.value),required:""},null,8,["label","type","modelValue","error-messages","append-inner-icon"])]),_:1}),r(b,null,{default:a(()=>[r(_,{label:e(l)("fields.New password"),type:n.value?"text":"password",modelValue:e(m),"onUpdate:modelValue":s[2]||(s[2]=o=>c(m)?m.value=o:null),"error-messages":e(C),autocomplete:"new-password","append-inner-icon":n.value?e(v):e(g),"onClick:appendInner":s[3]||(s[3]=o=>n.value=!n.value),required:""},null,8,["label","type","modelValue","error-messages","append-inner-icon"])]),_:1})]),_:1}),r(A,{class:"mt-5"},{default:a(()=>[r(J,{loading:u.value},null,8,["loading"]),r(K)]),_:1})]),_:1},8,["onSubmit"])]),_:1}))}};export{te as default};
