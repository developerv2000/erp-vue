import{u as g,d as v,h as d,i as F,c as V,o as y,w as n,a as r,b as a,j as c}from"./app-Bv235s-M.js";import{u as _}from"./messages-CrCj1jht.js";import{n as S,a as M}from"./queryHelper-LZTJtzGq.js";import{_ as B,a as D,b as k}from"./FilterApplyButton-HWj7GjMj.js";import{F as m}from"./FilterAutocomplete-CAfvwcSH.js";import{F as q}from"./FilterBooleanAutocomplete-BlbUNCYd.js";import"./mdi-CnKAdudM.js";import"./DefaultButton-DBGLuZMW.js";import"./useQueryParams-Dab0YVoH.js";import"./DefaultAutocomplete-TUcT7G3v.js";import"./StandardLabeledGroup-DHmFV98J.js";import"./filter-ELhmIoIq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                                  */const J={__name:"PermissionsFilter",setup(U){const{t:o}=g(),s=v(),u=_(),p=s.props.query,i=d(!1),e=d({});F(()=>{S(e.value,p,["global"]),M(e.value,p,["id","roles","department_id"])});const f=()=>{c.get(route(route().current()),e.value,{only:["records","query"],replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>i.value=!0,onSuccess:()=>u.addFilteredSuccessfullyMessage(),onError:()=>u.addFilteringFailedMessage(),onFinish:()=>i.value=!1})},b=()=>{c.get(route(route().current()),{},{data:{},only:["records","query"],replace:!0,onSuccess:()=>u.addFilterResetSuccessfullyMessage(),onError:()=>u.addFilterResetFailedMessage()})};return(x,l)=>(y(),V(k,null,{resetButton:n(()=>[r(D,{onClick:b})]),applyButton:n(()=>[r(B,{onClick:f,loading:i.value},null,8,["loading"])]),default:n(()=>[r(m,{label:a(o)("fields.Name"),name:"id[]",modelValue:e.value.id,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.id=t),items:a(s).props.filterDependencies.permissions,multiple:""},null,8,["label","modelValue","items"]),r(m,{label:a(o)("Roles"),name:"roles",modelValue:e.value.roles,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.roles=t),items:a(s).props.filterDependencies.roles,multiple:""},null,8,["label","modelValue","items"]),r(m,{label:a(o)("Departments"),name:"department_id",modelValue:e.value.department_id,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.department_id=t),items:a(s).props.filterDependencies.departments,"item-title":"abbreviation",multiple:""},null,8,["label","modelValue","items"]),r(q,{label:a(o)("properties.Global"),name:"global",modelValue:e.value.global,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.global=t)},null,8,["label","modelValue"])]),_:1}))}};export{J as default};
