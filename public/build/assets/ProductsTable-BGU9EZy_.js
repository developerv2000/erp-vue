import{d as b,i as k,c as f,o as n,w as t,g as a,t as r,b as i,k as s,f as p,a as _}from"./app-CMSjNDK4.js";import{u as y}from"./useQueryParams-DSJ1dPLe.js";import{u as x}from"./products-CcT4Nd_V.js";import{u as T}from"./useDateFormatter-DsH7D03H.js";import{_ as w,D as P,V}from"./TableNavigateToPage-DZtY5LO0.js";import v from"./ProductsTableTop-8fsDHdbM.js";import{T as D}from"./TableDefaultSkeleton-DT6c-9fp.js";import{T as I}from"./TdInertiaLink-B9gRn9a5.js";import{_ as d}from"./TogglableThreeLinesLimitedText-ABbZkxse.js";import{_ as S}from"./TdRecordCommentsLink-B7BO6V-0.js";import{_ as U}from"./TdOrderStatus-BxD4CIMK.js";import"./queryHelper-LZTJtzGq.js";import"./createRecordActions-BovokYM8.js";import"./VTable-C3mZiDDs.js";import"./useAuth-DUKBtqsc.js";import"./DefaultTableToolbar-ChjBEH8E.js";import"./DefaultButton-CFfFCqKo.js";import"./mdi-BZMfrfO1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ColumnsListItem-yqIXi0oD.js";import"./VRow-Dvbb8rke.js";import"./VSwitch-apHMLF3B.js";import"./VNumberInput-BfmNjXd2.js";import"./FullscreenListItem-D0C4kfGX.js";import"./InertiaLinkedButton-DorstYuu.js";import"./filter-gwBCF0wV.js";import"./InertiaLink-B9Riv5UN.js";const $=["href"],q=["href"],z=["href"],E=["href"],se={__name:"ProductsTable",setup(F){const{get:h}=y(),u=b(),o=x(),{formatDate:m}=T();k(()=>{(!o.initializedFromInertiaPage||h("initialize_from_inertia_page"))&&o.initFromInertiaPage(u),o.fetchRecords({updateUrl:!0})});const g=l=>{o.fetchRecordsIfOptionsChanged(l)};return(l,c)=>(n(),f(V,{class:"main-table main-table--limited-height main-table--with-filter",headers:i(u).props.tableVisibleHeaders,modelValue:i(o).selected,"onUpdate:modelValue":c[0]||(c[0]=e=>i(o).selected=e),items:i(o).records,"items-length":i(o).pagination.total_records,page:i(o).pagination.page,"items-per-page":i(o).pagination.per_page,"items-per-page-options":i(P),"sort-by":[{key:i(o).pagination.order_by,order:i(o).pagination.order_direction}],"onUpdate:options":g,loading:i(o).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[_(v)]),loading:t(()=>[_(D)]),"footer.prepend":t(()=>[_(w,{store:i(o)},null,8,["store"])]),"item.id":t(({item:e})=>[a(r(e.id),1)]),"item.order_manufacturer_id":t(({item:e})=>[a(r(e.order.manufacturer.name),1)]),"item.order_country_id":t(({item:e})=>[a(r(e.order.country.code),1)]),"item.order_id":t(({item:e})=>[a(r(e.order.title),1)]),"item.process_trademark_en":t(({item:e})=>[_(d,{text:e.process.full_english_product_label},null,8,["text"])]),"item.process_trademark_ru":t(({item:e})=>[_(d,{text:e.process.full_russian_product_label},null,8,["text"])]),"item.process_marketing_authorization_holder_id":t(({item:e})=>[a(r(e.process.mah.name),1)]),"item.status":t(({item:e})=>[_(U,{status:e.status},null,8,["status"])]),"item.comments_count":t(({item:e})=>[_(S,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[_(d,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.order_sent_to_bdm_date":t(({item:e})=>[a(r(i(m)(e.order.sent_to_bdm_date)),1)]),"item.order_name":t(({item:e})=>[a(r(e.order.name),1)]),"item.order_purchase_date":t(({item:e})=>[a(r(i(m)(e.order.purchase_date)),1)]),"item.packing_list_file":t(({item:e})=>[e.packing_list_file?(n(),p("a",{key:0,class:"text-primary",href:e.packing_list_file_url,target:"_blank"},r(e.packing_list_file),9,$)):s("",!0)]),"item.coa_file":t(({item:e})=>[e.coa_file?(n(),p("a",{key:0,class:"text-primary",href:e.coa_file_url,target:"_blank"},r(e.coa_file),9,q)):s("",!0)]),"item.coo_file":t(({item:e})=>[e.coo_file?(n(),p("a",{key:0,class:"text-primary",href:e.coo_file_url,target:"_blank"},r(e.coo_file),9,z)):s("",!0)]),"item.declaration_for_europe_file":t(({item:e})=>[e.declaration_for_europe_file?(n(),p("a",{key:0,class:"text-primary",href:e.declaration_for_europe_file_url,target:"_blank"},r(e.declaration_for_europe_file),9,E)):s("",!0)]),"item.readiness_for_shipment_from_manufacturer_date":t(({item:e})=>[a(r(i(m)(e.readiness_for_shipment_from_manufacturer_date)),1)]),"item.shipment_from_manufacturer_id":t(({item:e})=>[e.shipment_from_manufacturer_id?(n(),f(I,{key:0,link:l.route("import.shipments.index",{"id[]":e.shipment_from_manufacturer_id,initialize_from_inertia_page:!0})},{default:t(()=>[a(r(e.shipment_from_manufacturer.title),1)]),_:2},1032,["link"])):s("",!0)]),"item.shipment_transportation_method_id":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.transportation_method.name),1)]),"item.shipment_destination_id":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.destination.name),1)]),"item.shipment_pallets_quantity":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.pallets_quantity),1)]),"item.shipment_volume":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.volume),1)]),"item.shipment_transportation_requested_at":t(({item:e})=>[a(r(i(m)(e.shipment_from_manufacturer?.transportation_requested_at)),1)]),"item.shipment_forwarder":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.forwarder),1)]),"item.shipment_price":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.price),1)]),"item.shipment_currency_id":t(({item:e})=>[a(r(e.shipment_from_manufacturer?.currency.name),1)]),"item.shipment_rate_approved_at":t(({item:e})=>[a(r(i(m)(e.shipment_from_manufacturer?.rate_approved_at)),1)]),"item.shipment_confirmed_at":t(({item:e})=>[a(r(i(m)(e.shipment_from_manufacturer?.confirmed_at)),1)]),"item.shipment_completed_at":t(({item:e})=>[a(r(i(m)(e.shipment_from_manufacturer?.completed_at)),1)]),"item.shipment_arrived_at_warehouse":t(({item:e})=>[a(r(i(m)(e.shipment_from_manufacturer?.arrived_at_warehouse)),1)]),"item.created_at":t(({item:e})=>[a(r(i(m)(e.created_at)),1)]),"item.updated_at":t(({item:e})=>[a(r(i(m)(e.updated_at)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{se as default};
