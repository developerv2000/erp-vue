import{u as P,d as V,i as $,c as p,o as l,w as t,a as r,f as D,F,r as I,g as m,t as o,b as a,k as c,e as f,z as w}from"./app-BNo3BRZK.js";import{u as z}from"./useQueryParams-CSUAr9Lh.js";import{u as A}from"./productsTable-DNWXQY2R.js";import{u as N}from"./useDateFormatter-BmNfNSqK.js";import{f as O}from"./utilities-BOpNCN-e.js";import{_ as R,D as S,V as U}from"./TableNavigateToPage-C7Fq1Dzs.js";import q from"./ProductsTableTop-CrKAMNHQ.js";import{_ as v}from"./InertiaLink-BQiAElPX.js";import{T as B}from"./TableDefaultSkeleton-Df9cIq1u.js";import{_ as C}from"./TdEditButton-TPj3LjdB.js";import{_ as E}from"./TdManufacturerCategory-DNcB0S4d.js";import{_ as b}from"./TdAva-B9oKUOjc.js";import{T as k}from"./TdInertiaLink-Dx2diuCn.js";import{_ as d}from"./TogglableThreeLinesLimitedText-C3DjCvrW.js";import{_ as L}from"./TdRecordCommentsLink-nB_sDD3j.js";import{_ as M,T as j}from"./TdRecordAttachmentsLink-CuBE4xxw.js";import{T as g}from"./TdMediumWeightText-DTJwhD9s.js";import{O as G}from"./mdi-FFd_BlEo.js";import"./queryHelper-C2x2SXyh.js";import"./VTable-D_D7iml7.js";import"./useAuth-Ch3vS9aF.js";import"./DefaultTableToolbar-B9IydUBw.js";import"./DefaultButton-DV9vALRm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NewRecordButton-U-PJ0yPY.js";import"./DeleteSelectedButton-BGRjUhI0.js";import"./messages-Cs0KdrfF.js";import"./ExportButton-B6jvZgLr.js";import"./InertiaLinkedListItem-sKejATN2.js";import"./layout-C1taRy9I.js";import"./ColumnsListItem-ZXoEV_B2.js";import"./VRow-CaL1JTsj.js";import"./VSwitch-Cm8IRyME.js";import"./VNumberInput-BYmtFQh2.js";import"./FullscreenListItem-Dcvtlb4J.js";import"./ExportProductSelectionButton-mF6QBfc4.js";import"./filter-l9f7gJs0.js";import"./InertiaLinkedButtonedIcon-_7Nl_zaF.js";/* empty css                                                                          */const Ne={__name:"ProductsTable",setup(H){const{t:x}=P(),{get:y}=z(),h=V(),i=A(),{formatDate:_}=N();$(()=>{(!i.initializedFromInertiaPage||y("initialize_from_inertia_page"))&&i.initFromInertiaPage(h),i.detectCurrentPage(),i.fetchRecords({updateUrl:!0})});function T(u){i.fetchRecordsIfOptionsChanged(u)}return(u,n)=>(l(),p(U,{class:"main-table main-table--limited-height main-table--with-filter",headers:a(h).props.tableVisibleHeaders,modelValue:a(i).selected,"onUpdate:modelValue":n[0]||(n[0]=e=>a(i).selected=e),items:a(i).records,"items-length":a(i).pagination.total_records,page:a(i).pagination.page,"items-per-page":a(i).pagination.per_page,"items-per-page-options":a(S),"sort-by":[{key:a(i).pagination.order_by,order:a(i).pagination.order_direction}],"onUpdate:options":T,loading:a(i).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[r(q)]),loading:t(()=>[r(B)]),"footer.prepend":t(()=>[r(R,{store:a(i)},null,8,["store"])]),"item.deleted_at":t(({item:e})=>[m(o(a(_)(e.deleted_at)),1)]),"item.edit":t(({item:e})=>[r(C,{link:u.route("mad.products.edit",e.id)},null,8,["link"])]),"item.processes_count":t(({item:e})=>[r(v,{class:"d-flex ga-2 mb-2 text-high-emphasis",link:e.index_link_of_related_processes},{default:t(()=>[f("span",null,o(a(x)("processes.count",{count:e.processes_count})),1),r(w,{icon:a(G)},null,8,["icon"])]),_:2},1032,["link"]),r(k,{link:u.route("mad.processes.create",{product_id:e.id})},{default:t(()=>[f("span",null,o(a(x)("processes.add")),1)]),_:1},8,["link"])]),"item.manufacturer_category_name":t(({item:e})=>[r(E,{name:e.manufacturer.category.name},null,8,["name"])]),"item.manufacturer_country_name":t(({item:e})=>[m(o(e.manufacturer.country.name),1)]),"item.manufacturer_id":t(({item:e})=>[m(o(e.manufacturer.name),1)]),"item.inn_id":t(({item:e})=>[r(d,{text:e.inn.name},null,8,["text"])]),"item.form_id":t(({item:e})=>[m(o(e.form.name),1)]),"item.form_parent_name":t(({item:e})=>[m(o(e.form.parent_name),1)]),"item.dosage":t(({item:e})=>[r(d,{text:e.dosage},null,8,["text"])]),"item.moq":t(({item:e})=>[m(o(a(O)(e.moq)),1)]),"item.shelf_life_id":t(({item:e})=>[m(o(e.shelf_life.name),1)]),"item.class_id":t(({item:e})=>[r(g,{class:"text-green"},{default:t(()=>[m(o(e.class.name),1)]),_:2},1024)]),"item.atx_id":t(({item:e})=>[e.atx?(l(),p(d,{key:0,text:e.atx.name},null,8,["text"])):c("",!0)]),"item.atx_short_name":t(({item:e})=>[m(o(e.atx?.short_name),1)]),"item.dossier":t(({item:e})=>[r(d,{text:e.dossier},null,8,["text"])]),"item.zones_name":t(({item:e})=>[f("span",null,o(e.zones.map(s=>s.name).join(" ")),1)]),"item.bioequivalence":t(({item:e})=>[r(d,{text:e.bioequivalence},null,8,["text"])]),"item.registered_in_eu":t(({item:e})=>[e.registered_in_eu?(l(),p(g,{key:0,class:"text-pink-darken-3"},{default:t(()=>[...n[1]||(n[1]=[m(" Registered ",-1)])]),_:1})):c("",!0)]),"item.sold_in_eu":t(({item:e})=>[e.sold_in_eu?(l(),p(g,{key:0,class:"text-indigo"},{default:t(()=>[...n[2]||(n[2]=[m(" For sale ",-1)])]),_:1})):c("",!0)]),"item.comments_count":t(({item:e})=>[r(L,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[r(d,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.last_comment_created_at":t(({item:e})=>[m(o(a(_)(e.last_comment?.created_at)),1)]),"item.manufacturer_bdm":t(({item:e})=>[r(b,{user:e.manufacturer.bdm},null,8,["user"])]),"item.manufacturer_analyst":t(({item:e})=>[r(b,{user:e.manufacturer.analyst},null,8,["user"])]),"item.created_at":t(({item:e})=>[m(o(a(_)(e.created_at)),1)]),"item.updated_at":t(({item:e})=>[m(o(a(_)(e.updated_at)),1)]),"item.matched_product_searches":t(({item:e})=>[(l(!0),D(F,null,I(e.matched_product_searches,s=>(l(),p(k,{key:s.id,link:u.route("mad.products.index",{"id[]":s.id})},{default:t(()=>[m(" # "+o(s.id)+" "+o(s.country.code),1)]),_:2},1032,["link"]))),128))]),"item.attachments_count":t(({item:e})=>[r(M,{record:e},null,8,["record"]),r(j,{attachments:e.attachments},null,8,["attachments"])]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{Ne as default};
