import{u as b,d as v,h as d,i as _,c as F,o as V,w as u,a as r,b as a,j as c}from"./app-C0zSqAfj.js";import{u as y}from"./messages-CzH3BBFj.js";import{n as S,a as M}from"./queryHelper-zuYrvkeK.js";import{_ as D}from"./MainFilter-CP9EUOPT.js";import{F as m,_ as k,a as q}from"./FilterApplyButton-BzgLn2BW.js";import{_ as B}from"./FilterBooleanAutocomplete-Dl_vx2N5.js";import"./useQueryParams-BpPXzLUU.js";import"./DefaultAutocomplete-DccYNaD_.js";import"./StandardLabeledGroup-NCZUUQN6.js";import"./filter-CKwsHNQn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./mdi-BINEaKNx.js";import"./DefaultButton-HVgzgV1x.js";const H={__name:"RolesFilter",setup(U){const{t}=b(),o=v(),i=y(),p=o.props.query,n=d(!1),e=d({});_(()=>{S(e.value,p,["global"]),M(e.value,p,["id","permissions","department_id"])});const f=()=>{c.get(route(route().current()),e.value,{only:["records","query"],replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>n.value=!0,onSuccess:()=>i.addFilteredSuccessfullyMessage(),onError:()=>i.addFilteringFailedMessage(),onFinish:()=>n.value=!1})},g=()=>{c.get(route(route().current()),{},{data:{},only:["records","query"],replace:!0,onSuccess:()=>i.addFilterResetSuccessfullyMessage(),onError:()=>i.addFilterResetFailedMessage()})};return($,l)=>(V(),F(D,null,{resetButton:u(()=>[r(q,{onClick:g})]),applyButton:u(()=>[r(k,{onClick:f,loading:n.value},null,8,["loading"])]),default:u(()=>[r(m,{label:a(t)("fields.Name"),name:"id[]",modelValue:e.value.id,"onUpdate:modelValue":l[0]||(l[0]=s=>e.value.id=s),items:a(o).props.filterDependencies.roles,multiple:""},null,8,["label","modelValue","items"]),r(m,{label:a(t)("Permissions"),name:"permissions",modelValue:e.value.permissions,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.permissions=s),items:a(o).props.filterDependencies.permissions,multiple:""},null,8,["label","modelValue","items"]),r(m,{label:a(t)("Departments"),name:"department_id",modelValue:e.value.department_id,"onUpdate:modelValue":l[2]||(l[2]=s=>e.value.department_id=s),items:a(o).props.filterDependencies.departments,"item-title":"abbreviation",multiple:""},null,8,["label","modelValue","items"]),r(B,{label:a(t)("properties.Global"),name:"global",modelValue:e.value.global,"onUpdate:modelValue":l[3]||(l[3]=s=>e.value.global=s)},null,8,["label","modelValue"])]),_:1}))}};export{H as default};
