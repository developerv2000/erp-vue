import{u as g,d as v,h as d,i as _,c as F,o as V,w as u,a as t,b as a,j as c}from"./app-DyA9sgKY.js";import{u as y}from"./messages-my872IFV.js";import{n as S,a as M}from"./queryHelper-C2x2SXyh.js";import{F as m,_ as D,a as k,b as q}from"./FilterApplyButton-CSJVVLGx.js";import{_ as B}from"./FilterBooleanAutocomplete-CvTnaAno.js";import"./useQueryParams-BONQDP-B.js";import"./DefaultAutocomplete-BnVwagyK.js";import"./StandardLabeledGroup-TH58wf6w.js";import"./filter-CKu96PVV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./mdi-DZCuF3m0.js";import"./DefaultButton-CEWfauLh.js";const G={__name:"RolesFilter",setup(U){const{t:r}=g(),o=v(),i=y(),p=o.props.query,n=d(!1),e=d({});_(()=>{S(e.value,p,["global"]),M(e.value,p,["id","permissions","department_id"])});const f=()=>{c.get(route(route().current()),e.value,{only:["records","query"],replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>n.value=!0,onSuccess:()=>i.addFilteredSuccessfullyMessage(),onError:()=>i.addFilteringFailedMessage(),onFinish:()=>n.value=!1})},b=()=>{c.get(route(route().current()),{},{data:{},only:["records","query"],replace:!0,onSuccess:()=>i.addFilterResetSuccessfullyMessage(),onError:()=>i.addFilterResetFailedMessage()})};return($,l)=>(V(),F(q,null,{resetButton:u(()=>[t(k,{onClick:b})]),applyButton:u(()=>[t(D,{onClick:f,loading:n.value},null,8,["loading"])]),default:u(()=>[t(m,{label:a(r)("fields.Name"),name:"id[]",modelValue:e.value.id,"onUpdate:modelValue":l[0]||(l[0]=s=>e.value.id=s),items:a(o).props.filterDependencies.roles,multiple:""},null,8,["label","modelValue","items"]),t(m,{label:a(r)("Permissions"),name:"permissions",modelValue:e.value.permissions,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.permissions=s),items:a(o).props.filterDependencies.permissions,multiple:""},null,8,["label","modelValue","items"]),t(m,{label:a(r)("Departments"),name:"department_id",modelValue:e.value.department_id,"onUpdate:modelValue":l[2]||(l[2]=s=>e.value.department_id=s),items:a(o).props.filterDependencies.departments,"item-title":"abbreviation",multiple:""},null,8,["label","modelValue","items"]),t(B,{label:a(r)("properties.Global"),name:"global",modelValue:e.value.global,"onUpdate:modelValue":l[3]||(l[3]=s=>e.value.global=s)},null,8,["label","modelValue"])]),_:1}))}};export{G as default};
