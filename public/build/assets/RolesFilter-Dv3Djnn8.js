import{u as g,d as v,h as d,i as F,c as V,o as y,w as u,a as r,b as a,j as c}from"./app-CQVFqoTu.js";import{u as _}from"./messages-BRd9BCk1.js";import{n as S,a as M}from"./queryHelper-LZTJtzGq.js";import{_ as B,a as D,b as k}from"./FilterApplyButton-aPEnx41U.js";import{F as m}from"./FilterAutocomplete-DFqqd-v7.js";import{F as q}from"./FilterBooleanAutocomplete-2Ft8IhDU.js";import"./mdi-BiCQTzTv.js";import"./DefaultButton-B_v1FrQC.js";import"./useQueryParams-D2yBeCAD.js";import"./DefaultAutocomplete-Ba5hMo-M.js";import"./StandardLabeledGroup-B3eb9bCu.js";import"./filter-DXn2-kQs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                                  */const J={__name:"RolesFilter",setup(U){const{t:s}=g(),o=v(),i=_(),p=o.props.query,n=d(!1),e=d({});F(()=>{S(e.value,p,["global"]),M(e.value,p,["id","permissions","department_id"])});const f=()=>{c.get(route(route().current()),e.value,{only:["records","query"],replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>n.value=!0,onSuccess:()=>i.addFilteredSuccessfullyMessage(),onError:()=>i.addFilteringFailedMessage(),onFinish:()=>n.value=!1})},b=()=>{c.get(route(route().current()),{},{data:{},only:["records","query"],replace:!0,onSuccess:()=>i.addFilterResetSuccessfullyMessage(),onError:()=>i.addFilterResetFailedMessage()})};return(x,l)=>(y(),V(k,null,{resetButton:u(()=>[r(D,{onClick:b})]),applyButton:u(()=>[r(B,{onClick:f,loading:n.value},null,8,["loading"])]),default:u(()=>[r(m,{label:a(s)("fields.Name"),name:"id[]",modelValue:e.value.id,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.id=t),items:a(o).props.filterDependencies.roles,multiple:""},null,8,["label","modelValue","items"]),r(m,{label:a(s)("Permissions"),name:"permissions",modelValue:e.value.permissions,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.permissions=t),items:a(o).props.filterDependencies.permissions,multiple:""},null,8,["label","modelValue","items"]),r(m,{label:a(s)("Departments"),name:"department_id",modelValue:e.value.department_id,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.department_id=t),items:a(o).props.filterDependencies.departments,"item-title":"abbreviation",multiple:""},null,8,["label","modelValue","items"]),r(q,{label:a(s)("properties.Global"),name:"global",modelValue:e.value.global,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.global=t)},null,8,["label","modelValue"])]),_:1}))}};export{J as default};
