import{f as b,o as c,t as i,az as h,u as z,d as x,i as y,c as S,w as t,g as o,b as a,a as s}from"./app-B9LPjWSD.js";import{u as T}from"./useQueryParams-BE0-NS-t.js";import{u as k}from"./serialized-by-manufacturer-N0RO2oqv.js";import{u as P}from"./useDateFormatter-BCAMysvV.js";import{_ as D,D as V,V as w}from"./TableNavigateToPage-B3G9pwKB.js";import $ from"./SerializedByManufacturerTableTop-DcT03e2z.js";import{T as v}from"./TableDefaultSkeleton-DEtY7Jax.js";import{_ as B}from"./TdEditButton-DNnxYMjv.js";import{_ as l}from"./TogglableThreeLinesLimitedText-Bba3LHMs.js";import{_ as I}from"./TdRecordCommentsLink-XMbj38df.js";import"./queryHelper-LZTJtzGq.js";import"./createRecordActions-Ba682ZE6.js";import"./VTable-BwJ3bl9X.js";import"./DefaultTableToolbar-Dx-14Mtl.js";import"./DefaultButton-BY5T7BWX.js";import"./mdi-BiCQTzTv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ColumnsListItem-Bc8G2spJ.js";import"./VRow-YwEE9k1_.js";import"./VSwitch-BeDFw3gd.js";import"./VNumberInput-BGCQJ9Qa.js";import"./FullscreenListItem-CQ0aQifs.js";import"./filter-CLF1nGTb.js";import"./InertiaLinkedButtonedIcon-BQ84oza8.js";import"./TdInertiaLink-D-qXVllw.js";import"./InertiaLink-BdP1QpLD.js";const O={__name:"TdOrderProductSerializationStatus",props:{status:String},setup(n){return(f,u)=>(c(),b("span",{class:h(["text-caption font-weight-medium",{"text-grey":n.status=="Production started","text-amber":n.status=="Serialization codes requested","text-blue":n.status=="Serialization codes sent","text-purple":n.status=="Serialization report received","text-green":n.status=="Report sent to hub"}])},i(n.status),3))}},se={__name:"SerializedByManufacturerTable",setup(n){const{t:f}=z(),{get:u}=T(),_=x(),r=k(),{formatDate:m}=P();y(()=>{(!r.initializedFromInertiaPage||u("initialize_from_inertia_page"))&&r.initFromInertiaPage(_),r.fetchRecords({updateUrl:!0})});const g=d=>{r.fetchRecordsIfOptionsChanged(d)};return(d,p)=>(c(),S(w,{class:"main-table main-table--limited-height main-table--with-filter",headers:a(_).props.tableVisibleHeaders,modelValue:a(r).selected,"onUpdate:modelValue":p[0]||(p[0]=e=>a(r).selected=e),items:a(r).records,"items-length":a(r).pagination.total_records,page:a(r).pagination.page,"items-per-page":a(r).pagination.per_page,"items-per-page-options":a(V),"sort-by":[{key:a(r).pagination.order_by,order:a(r).pagination.order_direction}],"onUpdate:options":g,loading:a(r).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:t(()=>[s($)]),loading:t(()=>[s(v)]),"footer.prepend":t(()=>[s(D,{store:a(r)},null,8,["store"])]),"item.edit":t(({item:e})=>[s(B,{link:d.route("md.serialized-by-manufacturer.edit",e.id)},null,8,["link"])]),"item.id":t(({item:e})=>[o(i(e.id),1)]),"item.status":t(({item:e})=>[s(O,{status:e.serialization_status},null,8,["status"])]),"item.order_manufacturer_id":t(({item:e})=>[o(i(e.order.manufacturer.name),1)]),"item.order_country_id":t(({item:e})=>[o(i(e.order.country.code),1)]),"item.process_trademark_en":t(({item:e})=>[s(l,{text:e.process.full_english_product_label},null,8,["text"])]),"item.process_trademark_ru":t(({item:e})=>[s(l,{text:e.process.full_russian_product_label},null,8,["text"])]),"item.production_end_date":t(({item:e})=>[o(i(a(m)(e.production_end_date)),1)]),"item.serialization_codes_request_date":t(({item:e})=>[o(i(a(m)(e.serialization_codes_request_date)),1)]),"item.serialization_codes_sent_date":t(({item:e})=>[o(i(a(m)(e.serialization_codes_sent_date)),1)]),"item.serialization_report_recieved_date":t(({item:e})=>[o(i(a(m)(e.serialization_report_recieved_date)),1)]),"item.report_sent_to_hub_date":t(({item:e})=>[o(i(a(m)(e.report_sent_to_hub_date)),1)]),"item.comments_count":t(({item:e})=>[s(I,{record:e},null,8,["record"])]),"item.last_comment_body":t(({item:e})=>[s(l,{class:"main-table__last-comment",text:e.last_comment?.body},null,8,["text"])]),"item.created_at":t(({item:e})=>[o(i(a(m)(e.created_at)),1)]),"item.updated_at":t(({item:e})=>[o(i(a(m)(e.updated_at)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{se as default};
