import{c as X,a as z,b as J,d as Q,u as Y,p as Z,e as $,f as ee,g as ae,h as te,i as oe,j as se,k as y,l as h,m as T,n as le,o as re,q as ne}from"./TableDefaultSkeleton-Dg0bwIG3.js";import{_ as de,U as ue,bn as ie,l as g,a0 as o,aX as ce,ap as me,a4 as ge,a as l,e as n,bo as ve,F as D,a6 as S,u as pe,f as be,o as Pe,t as fe,b as ye,cc as he,bB as Te}from"./app-BLgoNwh9.js";import{V}from"./VTable-C7nmxiMy.js";const De=ue({itemsLength:{type:[Number,String],required:!0},...ne(),...re(),...le()},"VDataTableServer"),we=de()({name:"VDataTableServer",props:De(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,i){let{attrs:v,slots:a}=i;const{groupBy:s}=X(e),{sortBy:r,multiSort:x,mustSort:_}=z(e),{page:d,itemsPerPage:c}=J(e),{disableSort:w}=ie(e),B=g(()=>parseInt(e.itemsLength,10)),{columns:p,headers:I}=Q(e,{groupBy:s,showSelect:o(()=>e.showSelect),showExpand:o(()=>e.showExpand)}),{items:u}=Y(e,p),{toggleSort:b}=Z({sortBy:r,multiSort:x,mustSort:_,page:d}),{opened:k,isGroupOpen:E,toggleGroup:F,extractRows:G}=$({groupBy:s,sortBy:r,disableSort:w}),{pageCount:N,setItemsPerPage:R}=ee({page:d,itemsPerPage:c,itemsLength:B}),{flatItems:P}=ae(u,s,k,()=>!!a["group-summary"]),{isSelected:H,select:O,selectAll:L,toggleSelect:A,someSelected:C,allSelected:K}=te(e,{allItems:u,currentPage:u}),{isExpanded:U,toggleExpand:j}=oe(e),f=g(()=>G(u.value));se({page:d,itemsPerPage:c,sortBy:r,groupBy:s,search:o(()=>e.search)}),ce("v-data-table",{toggleSort:b,sortBy:r}),me({VDataTableRows:{hideNoData:o(()=>e.hideNoData),noDataText:o(()=>e.noDataText),loading:o(()=>e.loading),loadingText:o(()=>e.loadingText)}});const t=g(()=>({page:d.value,itemsPerPage:c.value,sortBy:r.value,pageCount:N.value,toggleSort:b,setItemsPerPage:R,someSelected:C.value,allSelected:K.value,isSelected:H,select:O,selectAll:L,toggleSelect:A,isExpanded:U,toggleExpand:j,isGroupOpen:E,toggleGroup:F,items:f.value.map(m=>m.raw),internalItems:f.value,groupedItems:P.value,columns:p.value,headers:I.value}));ge(()=>{const m=y.filterProps(e),q=h.filterProps(e),M=T.filterProps(e),W=V.filterProps(e);return l(V,S({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},W,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(t.value),default:()=>a.default?a.default(t.value):n(D,null,[a.colgroup?.(t.value),!e.hideDefaultHeader&&n("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[l(h,q,a)]),a.thead?.(t.value),!e.hideDefaultBody&&n("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(t.value),a.body?a.body(t.value):l(T,S(v,M,{items:P.value}),a),a["body.append"]?.(t.value)]),a.tbody?.(t.value),a.tfoot?.(t.value)]),bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&n(D,null,[l(ve,null,null),l(y,m,{prepend:a["footer.prepend"]})])})})}}),Be=[10,25,50,100,200,400],Se={class:"d-flex align-center ga-2 mr-auto ml-4"},Ie={__name:"TableNavigateToPage",props:{store:Object},setup(e){const{t:i}=pe();return(v,a)=>(Pe(),be("div",Se,[n("span",null,fe(ye(i)("actions.Go to page"))+":",1),l(Te,{color:"orange",variant:"outlined",density:"compact",width:"72",type:"number",autocomplete:"off",modelValue:e.store.pagination.navigate_to_page,"onUpdate:modelValue":a[0]||(a[0]=s=>e.store.pagination.navigate_to_page=s),modelModifiers:{number:!0},min:1,max:e.store.pagination.last_page,onKeyup:he(e.store.handleNavigateToPage,["enter"]),"hide-details":""},null,8,["modelValue","max","onKeyup"])]))}};export{Be as D,we as V,Ie as _};
