import{c as z,a as J,b as Q,d as X,u as Y,p as Z,e as $,f as ee,g as ae,h as te,i as oe,j as se,k as y,l as T,m as h,n as le,o as re,q as ne}from"./TableDefaultSkeleton-CrF3Vu3R.js";import{L as de,G as ue,b7 as ie,l as g,N as o,aI as ce,ab as me,R as ge,a as l,e as n,b8 as ve,F as D,T as S,u as be,f as pe,o as Pe,t as fe,b as ye,b_ as Te,bl as he}from"./app-CQVFqoTu.js";import{V}from"./VTable-LjAPFHLB.js";const De=ue({itemsLength:{type:[Number,String],required:!0},...ne(),...re(),...le()},"VDataTableServer"),we=de()({name:"VDataTableServer",props:De(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,i){let{attrs:v,slots:a}=i;const{groupBy:s}=z(e),{sortBy:r,multiSort:x,mustSort:_}=J(e),{page:d,itemsPerPage:c}=Q(e),{disableSort:w}=ie(e),B=g(()=>parseInt(e.itemsLength,10)),{columns:b,headers:I}=X(e,{groupBy:s,showSelect:o(()=>e.showSelect),showExpand:o(()=>e.showExpand)}),{items:u}=Y(e,b),{toggleSort:p}=Z({sortBy:r,multiSort:x,mustSort:_,page:d}),{opened:k,isGroupOpen:E,toggleGroup:F,extractRows:G}=$({groupBy:s,sortBy:r,disableSort:w}),{pageCount:N,setItemsPerPage:R}=ee({page:d,itemsPerPage:c,itemsLength:B}),{flatItems:P}=ae(u,s,k,()=>!!a["group-summary"]),{isSelected:H,select:L,selectAll:O,toggleSelect:A,someSelected:C,allSelected:K}=te(e,{allItems:u,currentPage:u}),{isExpanded:j,toggleExpand:q}=oe(e),f=g(()=>G(u.value));se({page:d,itemsPerPage:c,sortBy:r,groupBy:s,search:o(()=>e.search)}),ce("v-data-table",{toggleSort:p,sortBy:r}),me({VDataTableRows:{hideNoData:o(()=>e.hideNoData),noDataText:o(()=>e.noDataText),loading:o(()=>e.loading),loadingText:o(()=>e.loadingText)}});const t=g(()=>({page:d.value,itemsPerPage:c.value,sortBy:r.value,pageCount:N.value,toggleSort:p,setItemsPerPage:R,someSelected:C.value,allSelected:K.value,isSelected:H,select:L,selectAll:O,toggleSelect:A,isExpanded:j,toggleExpand:q,isGroupOpen:E,toggleGroup:F,items:f.value.map(m=>m.raw),internalItems:f.value,groupedItems:P.value,columns:b.value,headers:I.value}));ge(()=>{const m=y.filterProps(e),U=T.filterProps(e),M=h.filterProps(e),W=V.filterProps(e);return l(V,S({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},W,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(t.value),default:()=>a.default?a.default(t.value):n(D,null,[a.colgroup?.(t.value),!e.hideDefaultHeader&&n("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[l(T,U,a)]),a.thead?.(t.value),!e.hideDefaultBody&&n("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(t.value),a.body?a.body(t.value):l(h,S(v,M,{items:P.value}),a),a["body.append"]?.(t.value)]),a.tbody?.(t.value),a.tfoot?.(t.value)]),bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&n(D,null,[l(ve,null,null),l(y,m,{prepend:a["footer.prepend"]})])})})}}),Be=[10,25,50,100,200,400],Se={class:"d-flex align-center ga-2 mr-auto ml-4"},Ie={__name:"TableNavigateToPage",props:{store:Object},setup(e){const{t:i}=be();return(v,a)=>(Pe(),pe("div",Se,[n("span",null,fe(ye(i)("actions.Go to page"))+":",1),l(he,{color:"orange",variant:"outlined",density:"compact",width:"72",type:"number",autocomplete:"off",modelValue:e.store.pagination.navigate_to_page,"onUpdate:modelValue":a[0]||(a[0]=s=>e.store.pagination.navigate_to_page=s),modelModifiers:{number:!0},min:1,max:e.store.pagination.last_page,onKeyup:Te(e.store.handleNavigateToPage,["enter"]),"hide-details":""},null,8,["modelValue","max","onKeyup"])]))}};export{Be as D,we as V,Ie as _};
