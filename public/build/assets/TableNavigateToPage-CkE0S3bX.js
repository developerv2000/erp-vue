import{c as W,a as Z,b as X,d as Y,u as ee,p as ae,e as te,f as oe,g as se,h as ne,i as le,j as re,k as h,l as T,m as _,n as ie,o as ue,q as de}from"./TableDefaultSkeleton-G-GIb3AN.js";import{J as ce,K as me,bp as ge,s as p,ac as n,aZ as pe,av as ve,U as be,a as r,e as u,bq as fe,F as D,_ as S,c as V,o as v,aQ as Pe,I as ye,j as he,b as k,u as Te,f as _e,t as De,c6 as Se,bD as xe}from"./app-DBI2YLZw.js";import{V as x}from"./VTable-CXh6nypl.js";import{F as Ve}from"./mdi-_GS73Yti.js";const ke=me({itemsLength:{type:[Number,String],required:!0},...de(),...ue(),...ie()},"VDataTableServer"),Ne=ce()({name:"VDataTableServer",props:ke(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,s){let{attrs:i,slots:a}=s;const{groupBy:o}=W(e),{sortBy:l,multiSort:w,mustSort:B}=Z(e),{page:d,itemsPerPage:m}=X(e),{disableSort:I}=ge(e),E=p(()=>parseInt(e.itemsLength,10)),{columns:b,headers:F}=Y(e,{groupBy:o,showSelect:n(()=>e.showSelect),showExpand:n(()=>e.showExpand)}),{items:c}=ee(e,b),{toggleSort:f}=ae({sortBy:l,multiSort:w,mustSort:B,page:d}),{opened:G,isGroupOpen:N,toggleGroup:R,extractRows:H}=te({groupBy:o,sortBy:l,disableSort:I}),{pageCount:q,setItemsPerPage:L}=oe({page:d,itemsPerPage:m,itemsLength:E}),{flatItems:P}=se(c,o,G,()=>!!a["group-summary"]),{isSelected:O,select:C,selectAll:K,toggleSelect:M,someSelected:j,allSelected:A}=ne(e,{allItems:c,currentPage:c}),{isExpanded:U,toggleExpand:$}=le(e),y=p(()=>H(c.value));re({page:d,itemsPerPage:m,sortBy:l,groupBy:o,search:n(()=>e.search)}),pe("v-data-table",{toggleSort:f,sortBy:l}),ve({VDataTableRows:{hideNoData:n(()=>e.hideNoData),noDataText:n(()=>e.noDataText),loading:n(()=>e.loading),loadingText:n(()=>e.loadingText)}});const t=p(()=>({page:d.value,itemsPerPage:m.value,sortBy:l.value,pageCount:q.value,toggleSort:f,setItemsPerPage:L,someSelected:j.value,allSelected:A.value,isSelected:O,select:C,selectAll:K,toggleSelect:M,isExpanded:U,toggleExpand:$,isGroupOpen:N,toggleGroup:R,items:y.value.map(g=>g.raw),internalItems:y.value,groupedItems:P.value,columns:b.value,headers:F.value}));be(()=>{const g=h.filterProps(e),z=T.filterProps(e),J=_.filterProps(e),Q=x.filterProps(e);return r(x,S({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Q,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(t.value),default:()=>a.default?a.default(t.value):u(D,null,[a.colgroup?.(t.value),!e.hideDefaultHeader&&u("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[r(T,z,a)]),a.thead?.(t.value),!e.hideDefaultBody&&u("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(t.value),a.body?a.body(t.value):r(_,S(i,J,{items:P.value}),a),a["body.append"]?.(t.value)]),a.tbody?.(t.value),a.tfoot?.(t.value)]),bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&u(D,null,[r(fe,null,null),r(h,g,{prepend:a["footer.prepend"]})])})})}}),Re=[10,25,50,100,200,400],we={__name:"InertiaLinkedButtonedIcon",props:{icon:String,link:{type:String,required:!0}},setup(e){const s=e,i=()=>{he.visit(s.link)},a=o=>{o.button===1&&window.open(s.link,"_blank")};return(o,l)=>(v(),V(ye,{icon:s.icon,onClick:Pe(i,["prevent","stop"]),onMousedown:a},null,8,["icon"]))}},He={__name:"TdEditButton",props:{link:{type:String,required:!0}},setup(e){return(s,i)=>(v(),V(we,{color:"amber",variant:"tonal",size:"small",icon:k(Ve),link:e.link},null,8,["icon","link"]))}},Be={class:"d-flex align-center ga-2 mr-auto ml-4"},qe={__name:"TableNavigateToPage",props:{store:Object},setup(e){const{t:s}=Te();return(i,a)=>(v(),_e("div",Be,[u("span",null,De(k(s)("actions.Go to page"))+":",1),r(xe,{color:"orange",variant:"outlined",density:"compact",width:"72",type:"number",autocomplete:"off",modelValue:e.store.pagination.navigate_to_page,"onUpdate:modelValue":a[0]||(a[0]=o=>e.store.pagination.navigate_to_page=o),modelModifiers:{number:!0},min:1,max:e.store.pagination.last_page,onKeyup:Se(e.store.handleNavigateToPage,["enter"]),"hide-details":""},null,8,["modelValue","max","onKeyup"])]))}};export{Re as D,Ne as V,He as _,qe as a,we as b};
