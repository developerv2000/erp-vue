import{c as se,a as oe,b as ne,d as re,u as le,p as ie,e as ce,f as de,g as ue,h as me,i as ge,j as _e,k as S,l as D,m as w,n as pe,o as ve,q as fe}from"./TableDefaultSkeleton-C66Qpr4n.js";import{v as be,x as he,c4 as xe,c as b,at as i,av as Te,aP as ye,H as Pe,b as c,d as l,a7 as ke,M as V,O as B,a as m,o as r,b3 as Se,f as De,q as we,u as h,a1 as p,a2 as I,w as x,g as L,t as u,S as Ve,br as Be,h as E,c5 as $e,bk as Ie}from"./app-DAozJfJi.js";import{V as $}from"./VTable-COaqrT5-.js";import{f as Le}from"./mdi-B8JOKl2S.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ee}from"./InertiaLink-xWejzHcQ.js";const Ce=he({itemsLength:{type:[Number,String],required:!0},...fe(),...ve(),...pe()},"VDataTableServer"),et=be()({name:"VDataTableServer",props:Ce(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,a){let{attrs:s,slots:t}=a;const{groupBy:n}=se(e),{sortBy:d,multiSort:H,mustSort:M}=oe(e),{page:g,itemsPerPage:v}=ne(e),{disableSort:N}=xe(e),R=b(()=>parseInt(e.itemsLength,10)),{columns:T,headers:F}=re(e,{groupBy:n,showSelect:i(()=>e.showSelect),showExpand:i(()=>e.showExpand)}),{items:_}=le(e,T),{toggleSort:y}=ie({sortBy:d,multiSort:H,mustSort:M,page:g}),{opened:G,isGroupOpen:O,toggleGroup:q,extractRows:A}=ce({groupBy:n,sortBy:d,disableSort:N}),{pageCount:j,setItemsPerPage:z}=de({page:g,itemsPerPage:v,itemsLength:R}),{flatItems:P}=ue(_,n,G,()=>!!t["group-summary"]),{isSelected:K,select:U,selectAll:W,toggleSelect:J,someSelected:Q,allSelected:X}=me(e,{allItems:_,currentPage:_}),{isExpanded:Y,toggleExpand:Z}=ge(e),k=b(()=>A(_.value));_e({page:g,itemsPerPage:v,sortBy:d,groupBy:n,search:i(()=>e.search)}),Te("v-data-table",{toggleSort:y,sortBy:d}),ye({VDataTableRows:{hideNoData:i(()=>e.hideNoData),noDataText:i(()=>e.noDataText),loading:i(()=>e.loading),loadingText:i(()=>e.loadingText)}});const o=b(()=>({page:g.value,itemsPerPage:v.value,sortBy:d.value,pageCount:j.value,toggleSort:y,setItemsPerPage:z,someSelected:Q.value,allSelected:X.value,isSelected:K,select:U,selectAll:W,toggleSelect:J,isExpanded:Y,toggleExpand:Z,isGroupOpen:O,toggleGroup:q,items:k.value.map(f=>f.raw),internalItems:k.value,groupedItems:P.value,columns:T.value,headers:F.value}));Pe(()=>{const f=S.filterProps(e),ee=D.filterProps(e),te=w.filterProps(e),ae=$.filterProps(e);return c($,B({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ae,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>t.top?.(o.value),default:()=>t.default?t.default(o.value):l(V,null,[t.colgroup?.(o.value),!e.hideDefaultHeader&&l("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[c(D,ee,t)]),t.thead?.(o.value),!e.hideDefaultBody&&l("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[t["body.prepend"]?.(o.value),t.body?t.body(o.value):c(w,B(s,te,{items:P.value}),t),t["body.append"]?.(o.value)]),t.tbody?.(o.value),t.tfoot?.(o.value)]),bottom:()=>t.bottom?t.bottom(o.value):!e.hideDefaultFooter&&l(V,null,[c(ke,null,null),c(S,f,{prepend:t["footer.prepend"]})])})})}}),tt=[10,25,50,100,200,400],He={__name:"InertiaLinkedButtonedIcon",props:{icon:String,link:{type:String,required:!0}},setup(e){const a=e,s=()=>{we.visit(a.link)},t=n=>{n.button===1&&window.open(a.link,"_blank")};return(n,d)=>(r(),m(De,{icon:a.icon,onClick:Se(s,["prevent","stop"]),onMousedown:t},null,8,["icon"]))}},at={__name:"TdEditButton",props:{link:{type:String,required:!0}},setup(e){return(a,s)=>(r(),m(He,{color:"amber",variant:"tonal",size:"small",icon:h(Le),link:e.link},null,8,["icon","link"]))}},Me={},Ne={class:"font-weight-medium"};function Re(e,a){return r(),p("span",Ne,[I(e.$slots,"default")])}const Fe=C(Me,[["render",Re]]),st={__name:"TdManufacturerCategory",props:{name:String},setup(e){return(a,s)=>(r(),m(Fe,{class:Ve({"text-orange":e.name=="УДС","text-purple":e.name=="НПП","text-secondary":e.name=="НПП-"})},{default:x(()=>[L(u(e.name),1)]),_:1},8,["class"]))}},Ge={class:"d-flex ga-3"},Oe={class:"text-body-2"},ot={__name:"TdAva",props:{user:Object},setup(e){return(a,s)=>(r(),p("div",Ge,[c(Be,{image:e.user.photo_url,size:"32"},null,8,["image"]),l("p",Oe,u(e.user.name),1)]))}},qe={__name:"TdInertiaLink",props:{link:String},setup(e){return(a,s)=>(r(),m(Ee,{class:"td-inertia-link text-primary",link:e.link},{default:x(()=>[I(a.$slots,"default",{},void 0,!0)]),_:3},8,["link"]))}},Ae=C(qe,[["__scopeId","data-v-3967dffe"]]),je={class:"max-lines-limited-text three-lines-limited-text","data-on-click":"toggle-text-max-lines"},ze=["innerHTML"],nt={__name:"TogglableThreeLinesLimitedText",props:{text:String},setup(e){return(a,s)=>(r(),p("div",je,[l("div",{innerHTML:e.text},null,8,ze)]))}},Ke={class:"text-lowercase"},rt={__name:"TdRecordCommentsLink",props:{record:Object},setup(e){const{t:a}=E();return(s,t)=>(r(),m(Ae,{link:s.route("comments.view-model-comments",{commentable_type:e.record.base_model_class,commentable_id:e.record.id})},{default:x(()=>[L(u(e.record.comments_count)+" ",1),l("span",Ke,u(h(a)("Comments")),1)]),_:1},8,["link"]))}},Ue={class:"d-flex align-center ga-2 mr-auto ml-4"},lt={__name:"TableNavigateToPage",props:{store:Object},setup(e){const{t:a}=E();return(s,t)=>(r(),p("div",Ue,[l("span",null,u(h(a)("actions.Go to page"))+":",1),c(Ie,{color:"orange",variant:"outlined",density:"compact",width:"72",type:"number",autocomplete:"off",modelValue:e.store.pagination.navigate_to_page,"onUpdate:modelValue":t[0]||(t[0]=n=>e.store.pagination.navigate_to_page=n),modelModifiers:{number:!0},min:1,max:e.store.pagination.last_page,onKeyup:$e(e.store.handleNavigateToPage,["enter"]),"hide-details":""},null,8,["modelValue","max","onKeyup"])]))}};export{tt as D,Ae as T,et as V,nt as _,rt as a,Fe as b,st as c,ot as d,at as e,lt as f,He as g};
