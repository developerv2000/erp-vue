import{u as x,d as D,i as w,c as y,o as s,w as a,g as n,t as i,b as t,f as m,k as f,a as d,e as g,F as u,r as k,V as P}from"./app-B9LPjWSD.js";import{u as U}from"./useQueryParams-BE0-NS-t.js";import{u as v}from"./usersTable-V73FW5Rj.js";import{u as F}from"./useDateFormatter-BCAMysvV.js";import{_ as I,D as z,V as A}from"./TableNavigateToPage-B3G9pwKB.js";import B from"./UsersTableTop-LYfgBbzR.js";import{T as N}from"./TableDefaultSkeleton-DEtY7Jax.js";import{_ as S}from"./TdEditButton-DNnxYMjv.js";import{T as _}from"./TdInertiaLink-D-qXVllw.js";/* empty css                                                                          */import"./queryHelper-LZTJtzGq.js";import"./VTable-BwJ3bl9X.js";import"./useAuth-BdfaLBok.js";import"./DefaultTableToolbar-Dx-14Mtl.js";import"./DefaultButton-BY5T7BWX.js";import"./mdi-BiCQTzTv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NewRecordButton-CKQnNNY_.js";import"./DeleteSelectedButton-C-eJnwRi.js";import"./messages-Bx-X0MsL.js";import"./FullscreenListItem-CQ0aQifs.js";import"./filter-CLF1nGTb.js";import"./InertiaLinkedButtonedIcon-BQ84oza8.js";import"./InertiaLink-BdP1QpLD.js";const C={class:"d-flex flex-wrap ga-1"},E={class:"d-flex flex-wrap ga-2"},O={key:0},L={key:1},R={key:2},ue={__name:"UsersTable",setup($){const{t:c}=x(),{get:T}=U(),b=D(),r=v(),{formatDate:h}=F();w(()=>{(!r.initializedFromInertiaPage||T("initialize_from_inertia_page"))&&r.initFromInertiaPage(b),r.fetchRecords({updateUrl:!0})});function V(l){r.fetchRecordsIfOptionsChanged(l)}return(l,p)=>(s(),y(A,{class:"main-table main-table--limited-height main-table--with-filter",headers:t(b).props.allTableHeaders,modelValue:t(r).selected,"onUpdate:modelValue":p[0]||(p[0]=e=>t(r).selected=e),items:t(r).records,"items-length":t(r).pagination.total_records,page:t(r).pagination.page,"items-per-page":t(r).pagination.per_page,"items-per-page-options":t(z),"sort-by":[{key:t(r).pagination.order_by,order:t(r).pagination.order_direction}],"onUpdate:options":V,loading:t(r).loading,"must-sort":"","show-select":"","show-current-page":"","fixed-header":"",hover:""},{top:a(()=>[d(B)]),loading:a(()=>[d(N)]),"footer.prepend":a(()=>[d(I,{store:t(r)},null,8,["store"])]),"item.edit":a(({item:e})=>[d(S,{link:l.route("administration.users.edit",e.id)},null,8,["link"])]),"item.photo":a(({item:e})=>[d(P,{image:e.photo_url,size:"x-large"},null,8,["image"])]),"item.department_id":a(({item:e})=>[n(i(e.department.abbreviation),1)]),"item.roles_name":a(({item:e})=>[(s(!0),m(u,null,k(e.roles,o=>(s(),m(u,{key:o.id},[d(_,{link:l.route("administration.roles.index",{"id[]":o.id})},{default:a(()=>[n(i(o.name),1)]),_:2},1032,["link"]),p[1]||(p[1]=g("br",null,null,-1))],64))),128))]),"item.permissions_name":a(({item:e})=>[g("div",C,[(s(!0),m(u,null,k(e.permissions,o=>(s(),y(_,{key:o.id,class:"mr-3",link:l.route("administration.permissions.index",{"id[]":o.id})},{default:a(()=>[n(i(o.name),1)]),_:2},1032,["link"]))),128))])]),"item.responsible_country_names":a(({item:e})=>[g("div",E,[(s(!0),m(u,null,k(e.responsible_countries,o=>(s(),m("span",{key:o.id},i(o.code),1))),128))])]),"item.records_count":a(({item:e})=>[e.manufacturers_as_analyst_count?(s(),m("p",O,[n(i(t(c)("fields.Analyst"))+": ",1),d(_,{link:l.route("mad.manufacturers.index",{analyst_user_id:e.id,initialize_from_inertia_page:!0})},{default:a(()=>[n(i(e.manufacturers_as_analyst_count),1)]),_:2},1032,["link"])])):f("",!0),e.manufacturers_as_bdm_count?(s(),m("p",L,[n(i(t(c)("fields.BDM"))+": ",1),d(_,{link:l.route("mad.manufacturers.index",{bdm_user_id:e.id,initialize_from_inertia_page:!0})},{default:a(()=>[n(i(e.manufacturers_as_bdm_count),1)]),_:2},1032,["link"])])):f("",!0),e.comments_count?(s(),m("p",R,i(t(c)("Comments"))+": "+i(e.comments_count),1)):f("",!0)]),"item.created_at":a(({item:e})=>[n(i(t(h)(e.created_at)),1)]),"item.updated_at":a(({item:e})=>[n(i(t(h)(e.updated_at)),1)]),_:1},8,["headers","modelValue","items","items-length","page","items-per-page","items-per-page-options","sort-by","loading"]))}};export{ue as default};
