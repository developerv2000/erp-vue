import{R as ge,M as Q,aZ as Pe,P as Y,Y as pe,e as x,F as G,_ as N,as as xe,aa as De,N as E,W as me,h as Z,l as D,bo as Le,a4 as Ce,O as ce,be as Fe,af as Te,bp as Ae,aU as Oe,aL as Be,T as oe,U as Ke,i as Ee,bq as ze,a as M,a2 as ae,aK as He,aF as se,aM as Ne,au as Me,bi as Ue,aS as ye,br as $e,S as be,aW as he,bs as je,aV as fe,bt as we,z as Ve,az as We,ax as Ye,ay as ke,bu as Qe,bg as Xe,aw as Ze,bb as Ge,V as Je,bv as qe,ba as et,aj as tt,g as lt,bw as nt,bx as at,av as ot,by as st,bz as ut,bA as Se,bB as Ie,bC as rt,b2 as it,b as q}from"./app-zlqHbSzm.js";const ct=Q({renderless:Boolean,...xe()},"VVirtualScrollItem"),ft=ge()({name:"VVirtualScrollItem",inheritAttrs:!1,props:ct(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:l,emit:o,slots:a}=n;const{resizeRef:f,contentRect:c}=Pe(void 0,"border");Y(()=>c.value?.height,s=>{s!=null&&o("update:height",s)}),pe(()=>e.renderless?x(G,null,[a.default?.({itemRef:f})]):x("div",N({ref:f,class:["v-virtual-scroll__item",e.class],style:e.style},l),[a.default?.()]))}}),dt=-1,vt=1,de=100,mt=Q({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ht(e,n){const l=De(),o=E(0);me(()=>{o.value=parseFloat(e.itemHeight||0)});const a=E(0),f=E(Math.ceil((parseInt(e.height)||l.height.value)/(o.value||16))||1),c=E(0),s=E(0),u=Z(),d=Z();let r=0;const{resizeRef:I,contentRect:C}=Pe();me(()=>{I.value=u.value});const b=D(()=>u.value===document.documentElement?l.height.value:C.value?.height||parseInt(e.height)||0),F=D(()=>!!(u.value&&d.value&&b.value&&o.value));let m=Array.from({length:n.value.length}),p=Array.from({length:n.value.length});const V=E(0);let T=-1;function U(i){return m[i]||o.value}const _=Le(()=>{const i=performance.now();p[0]=0;const h=n.value.length;for(let P=1;P<=h;P++)p[P]=(p[P-1]||0)+U(P-1);V.value=Math.max(V.value,performance.now()-i)},V),S=Y(F,i=>{i&&(S(),r=d.value.offsetTop,_.immediate(),B(),~T&&Te(()=>{Ae&&window.requestAnimationFrame(()=>{ne(T),T=-1})}))});Ce(()=>{_.clear()});function ue(i,h){const P=m[i],t=o.value;o.value=t?Math.min(o.value,h):h,(P!==h||t!==o.value)&&(m[i]=h,_())}function L(i){i=ce(i,0,n.value.length);const h=Math.floor(i),P=i%1,t=h+1,g=p[h]||0,y=p[t]||g;return g+(y-g)*P}function ee(i){return gt(p,i)}let $=0,j=0,O=0;Y(b,(i,h)=>{h&&(B(),i<h&&requestAnimationFrame(()=>{j=0,B()}))});let J=-1;function re(){if(!u.value||!d.value)return;const i=u.value.scrollTop,h=performance.now();h-O>500?(j=Math.sign(i-$),r=d.value.offsetTop):j=i-$,$=i,O=h,window.clearTimeout(J),J=window.setTimeout(te,500),B()}function te(){!u.value||!d.value||(j=0,O=0,window.clearTimeout(J),B())}let le=-1;function B(){cancelAnimationFrame(le),le=requestAnimationFrame(X)}function X(){if(!u.value||!b.value||!o.value)return;const i=$-r,h=Math.sign(j),P=Math.max(0,i-de),t=ce(ee(P),0,n.value.length),g=i+b.value+de,y=ce(ee(g)+1,t+1,n.value.length);if((h!==dt||t<a.value)&&(h!==vt||y>f.value)){const z=L(a.value)-L(t),K=L(y)-L(f.value);Math.max(z,K)>de?(a.value=t,f.value=y):(t<=0&&(a.value=t),y>=n.value.length&&(f.value=y))}c.value=L(a.value),s.value=L(n.value.length)-L(f.value)}function ne(i){const h=L(i);!u.value||i&&!h?T=i:u.value.scrollTop=h}const ie=D(()=>n.value.slice(a.value,f.value).map((i,h)=>{const P=h+a.value;return{raw:i,index:P,key:Fe(i,e.itemKey,P)}}));return Y(n,()=>{m=Array.from({length:n.value.length}),p=Array.from({length:n.value.length}),_.immediate(),B()},{deep:1}),{calculateVisibleItems:B,containerRef:u,markerRef:d,computedItems:ie,paddingTop:c,paddingBottom:s,scrollToIndex:ne,handleScroll:re,handleScrollend:te,handleItemResize:ue}}function gt(e,n){let l=e.length-1,o=0,a=0,f=null,c=-1;if(e[l]<n)return l;for(;o<=l;)if(a=o+l>>1,f=e[a],f>n)l=a-1;else if(f<n)c=a,o=a+1;else return f===n?a:o;return c}const pt=Q({items:{type:Array,default:()=>[]},renderless:Boolean,...mt(),...xe(),...Ne()},"VVirtualScroll"),yt=ge()({name:"VVirtualScroll",props:pt(),setup(e,n){let{slots:l}=n;const o=Oe("VVirtualScroll"),{dimensionStyles:a}=Be(e),{calculateVisibleItems:f,containerRef:c,markerRef:s,handleScroll:u,handleScrollend:d,handleItemResize:r,scrollToIndex:I,paddingTop:C,paddingBottom:b,computedItems:F}=ht(e,oe(()=>e.items));return Ke(()=>e.renderless,()=>{function m(){const V=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";c.value===document.documentElement?(document[V]("scroll",u,{passive:!0}),document[V]("scrollend",d)):(c.value?.[V]("scroll",u,{passive:!0}),c.value?.[V]("scrollend",d))}Ee(()=>{c.value=ze(o.vnode.el,!0),m(!0)}),Ce(m)}),pe(()=>{const m=F.value.map(p=>M(ft,{key:p.key,renderless:e.renderless,"onUpdate:height":V=>r(p.index,V)},{default:V=>l.default?.({item:p.raw,index:p.index,...V})}));return e.renderless?x(G,null,[x("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:ae(C.value)}},null),m,x("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ae(b.value)}},null)]):x("div",{ref:c,class:se(["v-virtual-scroll",e.class]),onScrollPassive:u,onScrollend:d,style:He([a.value,e.style])},[x("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:ae(C.value),paddingBottom:ae(b.value)}},[m])])}),{calculateVisibleItems:f,scrollToIndex:I}}});function bt(e,n){const l=E(!1);let o;function a(s){cancelAnimationFrame(o),l.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{l.value=!1})})}async function f(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const u=Y(l,()=>{u(),s()})}else s()})}async function c(s){if(s.key==="Tab"&&n.value?.focus(),!["PageDown","PageUp","Home","End"].includes(s.key))return;const u=e.value?.$el;if(!u)return;(s.key==="Home"||s.key==="End")&&u.scrollTo({top:s.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await f();const d=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const r=u.getBoundingClientRect().top;for(const I of d)if(I.getBoundingClientRect().top>=r){I.focus();break}}else{const r=u.getBoundingClientRect().bottom;for(const I of[...d].reverse())if(I.getBoundingClientRect().bottom<=r){I.focus();break}}}return{onScrollPassive:a,onKeydown:c}}const wt=Q({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Vt(e,n){const{t:l}=Me(),o=Ue(),a=D(()=>`menu-${o}`),f=oe(()=>ye(n)),c=oe(()=>a.value),s=oe(()=>l(ye(n)?e.closeText:e.openText));return{menuId:a,ariaExpanded:f,ariaControls:c,ariaLabel:s}}const kt=Q({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:it,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...wt(),...rt({itemChildren:!1})},"Select"),St=Q({...kt(),...ot(ut({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...at({transition:{component:st}})},"VSelect"),Ct=ge()({name:"VSelect",props:St(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:l}=n;const{t:o}=Me(),a=Z(),f=Z(),c=Z(),{items:s,transformIn:u,transformOut:d}=$e(e),r=be(e,"modelValue",[],t=>u(t===null?[null]:he(t)),t=>{const g=d(t);return e.multiple?g:g[0]??null}),I=D(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:r.value.length),C=je(e),b=D(()=>r.value.map(t=>t.value)),F=E(!1);let m="",p=-1,V;const T=D(()=>e.hideSelected?s.value.filter(t=>!r.value.some(g=>(e.valueComparator||fe)(g,t))):s.value),U=D(()=>e.hideNoData&&!T.value.length||C.isReadonly.value||C.isDisabled.value),_=be(e,"menu"),S=D({get:()=>_.value,set:t=>{_.value&&!t&&f.value?.Î¨openChildren.size||t&&U.value||(_.value=t)}}),{menuId:ue,ariaExpanded:L,ariaControls:ee,ariaLabel:$}=Vt(e,S),j=D(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),O=Z(),J=bt(O,a);function re(t){e.openOnClear&&(S.value=!0)}function te(){U.value||(S.value=!S.value)}function le(t){Se(t)&&B(t)}function B(t){if(!t.key||C.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(S.value=!0),["Escape","Tab"].includes(t.key)&&(S.value=!1),t.key==="Home"?O.value?.focus("first"):t.key==="End"&&O.value?.focus("last");const g=1e3;if(!Se(t))return;const y=performance.now();y-V>g&&(m="",p=-1),m+=t.key.toLowerCase(),V=y;const z=T.value;function K(){let k=v();return k||m.at(-1)===m.at(-2)&&(m=m.slice(0,-1),k=v(),k)||(p=-1,k=v(),k)?k:(m=t.key.toLowerCase(),v())}function v(){for(let k=p+1;k<z.length;k++){const H=z[k];if(H.title.toLowerCase().startsWith(m))return[H,k]}}const w=K();if(!w)return;const[A,W]=w;p=W,O.value?.focus(W),e.multiple||(r.value=[A])}function X(t){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const y=r.value.findIndex(K=>(e.valueComparator||fe)(K.value,t.value)),z=g??!~y;if(~y){const K=z?[...r.value,t]:[...r.value];K.splice(y,1),r.value=K}else z&&(r.value=[...r.value,t])}else{const y=g!==!1;r.value=y?[t]:[],Te(()=>{S.value=!1})}}function ne(t){O.value?.$el.contains(t.relatedTarget)||(S.value=!1)}function ie(){e.eager&&c.value?.calculateVisibleItems()}function i(){F.value&&a.value?.focus()}function h(t){F.value=!0}function P(t){if(t==null)r.value=[];else if(Ie(a.value,":autofill")||Ie(a.value,":-webkit-autofill")){const g=s.value.find(y=>y.title===t);g&&X(g)}else a.value&&(a.value.value="")}return Y(S,()=>{if(!e.hideSelected&&S.value&&r.value.length){const t=T.value.findIndex(g=>r.value.some(y=>(e.valueComparator||fe)(y.value,g.value)));Ae&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&c.value?.scrollToIndex(t)})}}),Y(s,(t,g)=>{S.value||F.value&&e.hideNoData&&!g.length&&t.length&&(S.value=!0)}),pe(()=>{const t=!!(e.chips||l.chip),g=!!(!e.hideNoData||T.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),y=r.value.length>0,z=we.filterProps(e),K=y||!F.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return M(we,N({ref:a},z,{modelValue:r.value.map(v=>v.props.value).join(", "),"onUpdate:modelValue":P,focused:F.value,"onUpdate:focused":v=>F.value=v,validationValue:r.externalValue,counterValue:I.value,dirty:y,class:["v-select",{"v-select--active-menu":S.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":r.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:K,"onClick:clear":re,"onMousedown:control":te,onBlur:ne,onKeydown:B,"aria-expanded":L.value,"aria-controls":ee.value,"aria-label":$.value,title:$.value}),{...l,default:()=>x(G,null,[M(We,N({id:ue.value,ref:f,modelValue:S.value,"onUpdate:modelValue":v=>S.value=v,activator:"parent",contentClass:"v-select__content",disabled:U.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ie,onAfterLeave:i},j.value),{default:()=>[g&&M(Ye,N({ref:O,selected:b.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:v=>v.preventDefault(),onKeydown:le,onFocusin:h,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},J,e.listProps),{default:()=>[l["prepend-item"]?.(),!T.value.length&&!e.hideNoData&&(l["no-data"]?.()??M(ke,{key:"no-data",title:o(e.noDataText)},null)),M(yt,{ref:c,renderless:!0,items:T.value,itemKey:"value"},{default:v=>{let{item:w,index:A,itemRef:W}=v;const k=Qe(w.props),H=N(w.props,{ref:W,key:w.value,onClick:()=>X(w,null)});return w.type==="divider"?l.divider?.({props:w.raw,index:A})??M(Xe,N(w.props,{key:`divider-${A}`}),null):w.type==="subheader"?l.subheader?.({props:w.raw,index:A})??M(Ze,N(w.props,{key:`subheader-${A}`}),null):l.item?.({item:w,index:A,props:H})??M(ke,N(H,{role:"option"}),{prepend:R=>{let{isSelected:Re}=R;return x(G,null,[e.multiple&&!e.hideSelected?M(Ge,{key:w.value,modelValue:Re,ripple:!1,tabindex:"-1",onClick:_e=>_e.preventDefault()},null):void 0,k.prependAvatar&&M(Je,{image:k.prependAvatar},null),k.prependIcon&&M(Ve,{icon:k.prependIcon},null)])}})}}),l["append-item"]?.()]})]}),r.value.map((v,w)=>{function A(R){R.stopPropagation(),R.preventDefault(),X(v,!1)}const W={"onClick:close":A,onKeydown(R){R.key!=="Enter"&&R.key!==" "||(R.preventDefault(),R.stopPropagation(),A(R))},onMousedown(R){R.preventDefault(),R.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},k=t?!!l.chip:!!l.selection,H=k?qe(t?l.chip({item:v,index:w,props:W}):l.selection({item:v,index:w})):void 0;if(!(k&&!H))return x("div",{key:v.value,class:"v-select__selection"},[t?l.chip?M(tt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:v.title}}},{default:()=>[H]}):M(et,N({key:"chip",closable:e.closableChips,size:"small",text:v.title,disabled:v.props.disabled},W),null):H??x("span",{class:"v-select__selection-text"},[v.title,e.multiple&&w<r.value.length-1&&x("span",{class:"v-select__selection-comma"},[lt(",")])])])})]),"append-inner":function(){for(var v=arguments.length,w=new Array(v),A=0;A<v;A++)w[A]=arguments[A];return x(G,null,[l["append-inner"]?.(...w),e.menuIcon?M(Ve,{class:"v-select__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),nt({isFocused:F,menu:S,select:X},a)}}),It=(e,n,l)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const o=[];let a=e.indexOf(n);for(;~a;)o.push([a,a+n.length]),a=e.indexOf(n,a+n.length);return o.length?o:-1};function ve(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const Ft=Q({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Pt(e,n,l){const o=[],a=l?.default??It,f=l?.filterKeys?he(l.filterKeys):!1,c=Object.keys(l?.customKeyFilter??{}).length;if(!e?.length)return o;let s=null;e:for(let u=0;u<e.length;u++){const[d,r=d]=he(e[u]),I={},C={};let b=-1;if((n||c>0)&&!l?.noFilter){let F=!1;if(typeof d=="object"){if(d.type==="divider"||d.type==="subheader"){s?.type==="divider"&&d.type==="subheader"&&o.push(s),s={index:u,matches:{},type:d.type};continue}const V=f||Object.keys(r);F=V.length===c;for(const T of V){const U=Fe(r,T),_=l?.customKeyFilter?.[T];if(b=_?_(U,n,d):a(U,n,d),b!==-1&&b!==!1)_?I[T]=ve(b,n):C[T]=ve(b,n);else if(l?.filterMode==="every")continue e}}else b=a(d,n,d),b!==-1&&b!==!1&&(C.title=ve(b,n));const m=Object.keys(C).length,p=Object.keys(I).length;if(!m&&!p||l?.filterMode==="union"&&p!==c&&!m||l?.filterMode==="intersection"&&(p!==c||!m&&c>0&&!F))continue}s&&(o.push(s),s=null),o.push({index:u,matches:{...C,...I}})}return o}function Tt(e,n,l,o){const a=E([]),f=E(new Map),c=D(()=>o?.transform?q(n).map(u=>[u,o.transform(u)]):q(n));me(()=>{const u=typeof l=="function"?l():q(l),d=typeof u!="string"&&typeof u!="number"?"":String(u),r=Pt(c.value,d,{customKeyFilter:{...e.customKeyFilter,...q(o?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),I=q(n),C=[],b=new Map;r.forEach(F=>{let{index:m,matches:p}=F;const V=I[m];C.push(V),b.set(V.value,p)}),a.value=C,f.value=b});function s(u){return f.value.get(u.value)}return{filteredItems:a,filteredMatches:f,getMatches:s}}function At(e,n,l){return l==null||!l.length?n:l.map((o,a)=>{const f=a===0?0:l[a-1][1],c=[x("span",{class:se(`${e}__unmask`)},[n.slice(f,o[0])]),x("span",{class:se(`${e}__mask`)},[n.slice(o[0],o[1])])];return a===l.length-1&&c.push(x("span",{class:se(`${e}__unmask`)},[n.slice(o[1])])),x(G,null,[c])})}export{Ct as V,Vt as a,bt as b,yt as c,kt as d,At as h,Ft as m,Tt as u};
