import{v as ge,x as X,as as Pe,F as Z,H as pe,d as x,M as Q,O as z,al as xe,B as De,A as K,D as me,r as G,c as D,bV as Le,aG as Ce,_ as ce,bW as Te,Z as Fe,bo as Ae,au as Oe,am as Be,at as oe,aA as Ee,E as Ke,bX as He,b as M,T as ae,ag as $e,S as se,ap as ze,aZ as Me,aw as Ne,be as ye,bl as Ue,y as be,bm as he,bn as je,bv as de,bk as we,e as Ve,b2 as We,b0 as Ze,b1 as ke,bY as Xe,a7 as Ye,a$ as Ge,bq as Qe,br as Je,bs as qe,ae as et,aR as tt,g as lt,U as nt,bZ as at,ak as ot,b_ as st,bt as ut,bu as Se,bw as Ie,b$ as rt,bc as it,u as q}from"./app-DAozJfJi.js";const ct=X({renderless:Boolean,...xe()},"VVirtualScrollItem"),dt=ge()({name:"VVirtualScrollItem",inheritAttrs:!1,props:ct(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:l,emit:o,slots:a}=n;const{resizeRef:d,contentRect:c}=Pe(void 0,"border");Z(()=>c.value?.height,s=>{s!=null&&o("update:height",s)}),pe(()=>e.renderless?x(Q,null,[a.default?.({itemRef:d})]):x("div",z({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},l),[a.default?.()]))}}),ft=-1,vt=1,fe=100,mt=X({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ht(e,n){const l=De(),o=K(0);me(()=>{o.value=parseFloat(e.itemHeight||0)});const a=K(0),d=K(Math.ceil((parseInt(e.height)||l.height.value)/(o.value||16))||1),c=K(0),s=K(0),u=G(),f=G();let r=0;const{resizeRef:I,contentRect:C}=Pe();me(()=>{I.value=u.value});const b=D(()=>u.value===document.documentElement?l.height.value:C.value?.height||parseInt(e.height)||0),T=D(()=>!!(u.value&&f.value&&b.value&&o.value));let m=Array.from({length:n.value.length}),p=Array.from({length:n.value.length});const V=K(0);let F=-1;function N(i){return m[i]||o.value}const _=Le(()=>{const i=performance.now();p[0]=0;const h=n.value.length;for(let P=1;P<=h;P++)p[P]=(p[P-1]||0)+N(P-1);V.value=Math.max(V.value,performance.now()-i)},V),S=Z(T,i=>{i&&(S(),r=f.value.offsetTop,_.immediate(),B(),~F&&Fe(()=>{Ae&&window.requestAnimationFrame(()=>{ne(F),F=-1})}))});Ce(()=>{_.clear()});function ue(i,h){const P=m[i],t=o.value;o.value=t?Math.min(o.value,h):h,(P!==h||t!==o.value)&&(m[i]=h,_())}function L(i){i=ce(i,0,n.value.length);const h=Math.floor(i),P=i%1,t=h+1,g=p[h]||0,y=p[t]||g;return g+(y-g)*P}function ee(i){return gt(p,i)}let U=0,j=0,O=0;Z(b,(i,h)=>{h&&(B(),i<h&&requestAnimationFrame(()=>{j=0,B()}))});let J=-1;function re(){if(!u.value||!f.value)return;const i=u.value.scrollTop,h=performance.now();h-O>500?(j=Math.sign(i-U),r=f.value.offsetTop):j=i-U,U=i,O=h,window.clearTimeout(J),J=window.setTimeout(te,500),B()}function te(){!u.value||!f.value||(j=0,O=0,window.clearTimeout(J),B())}let le=-1;function B(){cancelAnimationFrame(le),le=requestAnimationFrame(Y)}function Y(){if(!u.value||!b.value||!o.value)return;const i=U-r,h=Math.sign(j),P=Math.max(0,i-fe),t=ce(ee(P),0,n.value.length),g=i+b.value+fe,y=ce(ee(g)+1,t+1,n.value.length);if((h!==ft||t<a.value)&&(h!==vt||y>d.value)){const H=L(a.value)-L(t),E=L(y)-L(d.value);Math.max(H,E)>fe?(a.value=t,d.value=y):(t<=0&&(a.value=t),y>=n.value.length&&(d.value=y))}c.value=L(a.value),s.value=L(n.value.length)-L(d.value)}function ne(i){const h=L(i);!u.value||i&&!h?F=i:u.value.scrollTop=h}const ie=D(()=>n.value.slice(a.value,d.value).map((i,h)=>{const P=h+a.value;return{raw:i,index:P,key:Te(i,e.itemKey,P)}}));return Z(n,()=>{m=Array.from({length:n.value.length}),p=Array.from({length:n.value.length}),_.immediate(),B()},{deep:1}),{calculateVisibleItems:B,containerRef:u,markerRef:f,computedItems:ie,paddingTop:c,paddingBottom:s,scrollToIndex:ne,handleScroll:re,handleScrollend:te,handleItemResize:ue}}function gt(e,n){let l=e.length-1,o=0,a=0,d=null,c=-1;if(e[l]<n)return l;for(;o<=l;)if(a=o+l>>1,d=e[a],d>n)l=a-1;else if(d<n)c=a,o=a+1;else return d===n?a:o;return c}const pt=X({items:{type:Array,default:()=>[]},renderless:Boolean,...mt(),...xe(),...ze()},"VVirtualScroll"),yt=ge()({name:"VVirtualScroll",props:pt(),setup(e,n){let{slots:l}=n;const o=Oe("VVirtualScroll"),{dimensionStyles:a}=Be(e),{calculateVisibleItems:d,containerRef:c,markerRef:s,handleScroll:u,handleScrollend:f,handleItemResize:r,scrollToIndex:I,paddingTop:C,paddingBottom:b,computedItems:T}=ht(e,oe(()=>e.items));return Ee(()=>e.renderless,()=>{function m(){const V=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";c.value===document.documentElement?(document[V]("scroll",u,{passive:!0}),document[V]("scrollend",f)):(c.value?.[V]("scroll",u,{passive:!0}),c.value?.[V]("scrollend",f))}Ke(()=>{c.value=He(o.vnode.el,!0),m(!0)}),Ce(m)}),pe(()=>{const m=T.value.map(p=>M(dt,{key:p.key,renderless:e.renderless,"onUpdate:height":V=>r(p.index,V)},{default:V=>l.default?.({item:p.raw,index:p.index,...V})}));return e.renderless?x(Q,null,[x("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:ae(C.value)}},null),m,x("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ae(b.value)}},null)]):x("div",{ref:c,class:se(["v-virtual-scroll",e.class]),onScrollPassive:u,onScrollend:f,style:$e([a.value,e.style])},[x("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:ae(C.value),paddingBottom:ae(b.value)}},[m])])}),{calculateVisibleItems:d,scrollToIndex:I}}});function bt(e,n){const l=K(!1);let o;function a(s){cancelAnimationFrame(o),l.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{l.value=!1})})}async function d(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const u=Z(l,()=>{u(),s()})}else s()})}async function c(s){if(s.key==="Tab"&&n.value?.focus(),!["PageDown","PageUp","Home","End"].includes(s.key))return;const u=e.value?.$el;if(!u)return;(s.key==="Home"||s.key==="End")&&u.scrollTo({top:s.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await d();const f=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const r=u.getBoundingClientRect().top;for(const I of f)if(I.getBoundingClientRect().top>=r){I.focus();break}}else{const r=u.getBoundingClientRect().bottom;for(const I of[...f].reverse())if(I.getBoundingClientRect().bottom<=r){I.focus();break}}}return{onScrollPassive:a,onKeydown:c}}const wt=X({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Vt(e,n){const{t:l}=Me(),o=Ne(),a=D(()=>`menu-${o}`),d=oe(()=>ye(n)),c=oe(()=>a.value),s=oe(()=>l(ye(n)?e.closeText:e.openText));return{menuId:a,ariaExpanded:d,ariaControls:c,ariaLabel:s}}const kt=X({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:it,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...wt(),...rt({itemChildren:!1})},"Select"),St=X({...kt(),...ot(ut({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...at({transition:{component:st}})},"VSelect"),Ct=ge()({name:"VSelect",props:St(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:l}=n;const{t:o}=Me(),a=G(),d=G(),c=G(),{items:s,transformIn:u,transformOut:f}=Ue(e),r=be(e,"modelValue",[],t=>u(t===null?[null]:he(t)),t=>{const g=f(t);return e.multiple?g:g[0]??null}),I=D(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:r.value.length),C=je(e),b=D(()=>r.value.map(t=>t.value)),T=K(!1);let m="",p=-1,V;const F=D(()=>e.hideSelected?s.value.filter(t=>!r.value.some(g=>(e.valueComparator||de)(g,t))):s.value),N=D(()=>e.hideNoData&&!F.value.length||C.isReadonly.value||C.isDisabled.value),_=be(e,"menu"),S=D({get:()=>_.value,set:t=>{_.value&&!t&&d.value?.Î¨openChildren.size||t&&N.value||(_.value=t)}}),{menuId:ue,ariaExpanded:L,ariaControls:ee,ariaLabel:U}=Vt(e,S),j=D(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),O=G(),J=bt(O,a);function re(t){e.openOnClear&&(S.value=!0)}function te(){N.value||(S.value=!S.value)}function le(t){Se(t)&&B(t)}function B(t){if(!t.key||C.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(S.value=!0),["Escape","Tab"].includes(t.key)&&(S.value=!1),t.key==="Home"?O.value?.focus("first"):t.key==="End"&&O.value?.focus("last");const g=1e3;if(!Se(t))return;const y=performance.now();y-V>g&&(m="",p=-1),m+=t.key.toLowerCase(),V=y;const H=F.value;function E(){let k=v();return k||m.at(-1)===m.at(-2)&&(m=m.slice(0,-1),k=v(),k)||(p=-1,k=v(),k)?k:(m=t.key.toLowerCase(),v())}function v(){for(let k=p+1;k<H.length;k++){const $=H[k];if($.title.toLowerCase().startsWith(m))return[$,k]}}const w=E();if(!w)return;const[A,W]=w;p=W,O.value?.focus(W),e.multiple||(r.value=[A])}function Y(t){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const y=r.value.findIndex(E=>(e.valueComparator||de)(E.value,t.value)),H=g??!~y;if(~y){const E=H?[...r.value,t]:[...r.value];E.splice(y,1),r.value=E}else H&&(r.value=[...r.value,t])}else{const y=g!==!1;r.value=y?[t]:[],Fe(()=>{S.value=!1})}}function ne(t){O.value?.$el.contains(t.relatedTarget)||(S.value=!1)}function ie(){e.eager&&c.value?.calculateVisibleItems()}function i(){T.value&&a.value?.focus()}function h(t){T.value=!0}function P(t){if(t==null)r.value=[];else if(Ie(a.value,":autofill")||Ie(a.value,":-webkit-autofill")){const g=s.value.find(y=>y.title===t);g&&Y(g)}else a.value&&(a.value.value="")}return Z(S,()=>{if(!e.hideSelected&&S.value&&r.value.length){const t=F.value.findIndex(g=>r.value.some(y=>(e.valueComparator||de)(y.value,g.value)));Ae&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&c.value?.scrollToIndex(t)})}}),Z(s,(t,g)=>{S.value||T.value&&e.hideNoData&&!g.length&&t.length&&(S.value=!0)}),pe(()=>{const t=!!(e.chips||l.chip),g=!!(!e.hideNoData||F.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),y=r.value.length>0,H=we.filterProps(e),E=y||!T.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return M(we,z({ref:a},H,{modelValue:r.value.map(v=>v.props.value).join(", "),"onUpdate:modelValue":P,focused:T.value,"onUpdate:focused":v=>T.value=v,validationValue:r.externalValue,counterValue:I.value,dirty:y,class:["v-select",{"v-select--active-menu":S.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":r.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:E,"onClick:clear":re,"onMousedown:control":te,onBlur:ne,onKeydown:B,"aria-expanded":L.value,"aria-controls":ee.value,"aria-label":U.value,title:U.value}),{...l,default:()=>x(Q,null,[M(We,z({id:ue.value,ref:d,modelValue:S.value,"onUpdate:modelValue":v=>S.value=v,activator:"parent",contentClass:"v-select__content",disabled:N.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ie,onAfterLeave:i},j.value),{default:()=>[g&&M(Ze,z({ref:O,selected:b.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:v=>v.preventDefault(),onKeydown:le,onFocusin:h,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},J,e.listProps),{default:()=>[l["prepend-item"]?.(),!F.value.length&&!e.hideNoData&&(l["no-data"]?.()??M(ke,{key:"no-data",title:o(e.noDataText)},null)),M(yt,{ref:c,renderless:!0,items:F.value,itemKey:"value"},{default:v=>{let{item:w,index:A,itemRef:W}=v;const k=Xe(w.props),$=z(w.props,{ref:W,key:w.value,onClick:()=>Y(w,null)});return w.type==="divider"?l.divider?.({props:w.raw,index:A})??M(Ye,z(w.props,{key:`divider-${A}`}),null):w.type==="subheader"?l.subheader?.({props:w.raw,index:A})??M(Ge,z(w.props,{key:`subheader-${A}`}),null):l.item?.({item:w,index:A,props:$})??M(ke,z($,{role:"option"}),{prepend:R=>{let{isSelected:Re}=R;return x(Q,null,[e.multiple&&!e.hideSelected?M(Qe,{key:w.value,modelValue:Re,ripple:!1,tabindex:"-1",onClick:_e=>_e.preventDefault()},null):void 0,k.prependAvatar&&M(Je,{image:k.prependAvatar},null),k.prependIcon&&M(Ve,{icon:k.prependIcon},null)])}})}}),l["append-item"]?.()]})]}),r.value.map((v,w)=>{function A(R){R.stopPropagation(),R.preventDefault(),Y(v,!1)}const W={"onClick:close":A,onKeydown(R){R.key!=="Enter"&&R.key!==" "||(R.preventDefault(),R.stopPropagation(),A(R))},onMousedown(R){R.preventDefault(),R.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},k=t?!!l.chip:!!l.selection,$=k?qe(t?l.chip({item:v,index:w,props:W}):l.selection({item:v,index:w})):void 0;if(!(k&&!$))return x("div",{key:v.value,class:"v-select__selection"},[t?l.chip?M(tt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:v.title}}},{default:()=>[$]}):M(et,z({key:"chip",closable:e.closableChips,size:"small",text:v.title,disabled:v.props.disabled},W),null):$??x("span",{class:"v-select__selection-text"},[v.title,e.multiple&&w<r.value.length-1&&x("span",{class:"v-select__selection-comma"},[lt(",")])])])})]),"append-inner":function(){for(var v=arguments.length,w=new Array(v),A=0;A<v;A++)w[A]=arguments[A];return x(Q,null,[l["append-inner"]?.(...w),e.menuIcon?M(Ve,{class:"v-select__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),nt({isFocused:T,menu:S,select:Y},a)}}),It=(e,n,l)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const o=[];let a=e.indexOf(n);for(;~a;)o.push([a,a+n.length]),a=e.indexOf(n,a+n.length);return o.length?o:-1};function ve(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const Tt=X({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Pt(e,n,l){const o=[],a=l?.default??It,d=l?.filterKeys?he(l.filterKeys):!1,c=Object.keys(l?.customKeyFilter??{}).length;if(!e?.length)return o;let s=null;e:for(let u=0;u<e.length;u++){const[f,r=f]=he(e[u]),I={},C={};let b=-1;if((n||c>0)&&!l?.noFilter){let T=!1;if(typeof f=="object"){if(f.type==="divider"||f.type==="subheader"){s?.type==="divider"&&f.type==="subheader"&&o.push(s),s={index:u,matches:{},type:f.type};continue}const V=d||Object.keys(r);T=V.length===c;for(const F of V){const N=Te(r,F),_=l?.customKeyFilter?.[F];if(b=_?_(N,n,f):a(N,n,f),b!==-1&&b!==!1)_?I[F]=ve(b,n):C[F]=ve(b,n);else if(l?.filterMode==="every")continue e}}else b=a(f,n,f),b!==-1&&b!==!1&&(C.title=ve(b,n));const m=Object.keys(C).length,p=Object.keys(I).length;if(!m&&!p||l?.filterMode==="union"&&p!==c&&!m||l?.filterMode==="intersection"&&(p!==c||!m&&c>0&&!T))continue}s&&(o.push(s),s=null),o.push({index:u,matches:{...C,...I}})}return o}function Ft(e,n,l,o){const a=K([]),d=K(new Map),c=D(()=>o?.transform?q(n).map(u=>[u,o.transform(u)]):q(n));me(()=>{const u=typeof l=="function"?l():q(l),f=typeof u!="string"&&typeof u!="number"?"":String(u),r=Pt(c.value,f,{customKeyFilter:{...e.customKeyFilter,...q(o?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),I=q(n),C=[],b=new Map;r.forEach(T=>{let{index:m,matches:p}=T;const V=I[m];C.push(V),b.set(V.value,p)}),a.value=C,d.value=b});function s(u){return d.value.get(u.value)}return{filteredItems:a,filteredMatches:d,getMatches:s}}function At(e,n,l){return l==null||!l.length?n:l.map((o,a)=>{const d=a===0?0:l[a-1][1],c=[x("span",{class:se(`${e}__unmask`)},[n.slice(d,o[0])]),x("span",{class:se(`${e}__mask`)},[n.slice(o[0],o[1])])];return a===l.length-1&&c.push(x("span",{class:se(`${e}__unmask`)},[n.slice(o[1])])),x(Q,null,[c])})}export{yt as V,Vt as a,bt as b,Tt as c,Ct as d,At as h,kt as m,Ft as u};
