import{y as o,v as a}from"./app-B9LPjWSD.js";import{u as n}from"./useAuth-BdfaLBok.js";const{canReceiveNotifications:e}=n(),c=o("global",{state:()=>({loading:!1,unreadNotificationsCount:0,initialized:!1}),actions:{initFromInertiaPage(i){this.initialized||(this.initialized=!0,e()&&(this.checkForUnreadNotifications(),this._interval=setInterval(()=>{this.checkForUnreadNotifications()},120*1e3)))},checkForUnreadNotifications(){a.get(route("api.notifications.unread-count")).then(i=>{const t=i.data;t>this.unreadNotificationsCount&&this.playNotificationSound(),this.unreadNotificationsCount=t})},resetState(){this.unreadNotificationsCount=0,this.initialized=!1},playNotificationSound(){new Audio("/audio/notification.mp3").play()}}});export{c as u};
