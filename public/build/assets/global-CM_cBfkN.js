import{aP as c,v as f}from"./app-hg2q9IKQ.js";import{u as l}from"./notifications-DISa0OVz.js";import{u as m}from"./processesTable-BvkFOOkd.js";import{u as S}from"./processStatusHistoryTable-B7PpDhqQ.js";import{u as d}from"./productsTable-Be4QAHwz.js";import{u as p}from"./attachments-DeGI2KXL.js";import{u as h}from"./comments-Cl8WzDMV.js";import{u as b}from"./manufacturersTable-Dd6Zjeoh.js";import{u as A}from"./usersTable-DRHZkPDX.js";import{u as N}from"./kpi-BJGn90TE.js";import{u as T}from"./useAuth-BNJOnWkr.js";const{canReceiveNotifications:g}=T(),R=c("global",{state:()=>({loading:!1,unreadNotificationsCount:0,initialized:!1}),actions:{initFromInertiaPage(t){this.initialized||(this.initialized=!0,g()&&(this.checkForUnreadNotifications(),this._interval=setInterval(()=>{this.checkForUnreadNotifications()},120*1e3)))},checkForUnreadNotifications(){f.get(route("api.notifications.unread-count")).then(t=>{const o=t.data;o>this.unreadNotificationsCount&&this.playNotificationSound(),this.unreadNotificationsCount=o})},getAllResetableStores(){const t=l(),o=p(),e=h(),s=A(),i=b(),a=d(),r=m(),n=S(),u=N();return[t,o,e,s,i,a,r,n,u]},resetAllStores(){this.getAllResetableStores().forEach(o=>{o.resetState()}),this.resetState()},resetState(){this.unreadNotificationsCount=0,this.initialized=!1},playNotificationSound(){new Audio("/audio/notification.mp3").play()}}});export{R as u};
