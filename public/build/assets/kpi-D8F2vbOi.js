import{aP as i,j as a}from"./app-BNo3BRZK.js";import{c as s,d as n,a as u}from"./queryHelper-C2x2SXyh.js";const t={year:null,extended_version:null,manufacturer_region:null,manufacturer_analyst_user_id:null,manufacturer_bdm_user_id:null,months:[],country_id:[]},m=i("MADKPI",{state:()=>({loading:!1,initializedFromInertiaPage:!1,filters:{...t}}),actions:{initFromInertiaPage(e){this.records=[];const r=e.props.query;this.filters.manufacturer_region=r.manufacturer_region,this.filters.year=Number(e.props.kpiData.year),this.filters.extended_version=Number(e.props.kpiData.entendedVersion),n(this.filters,r,["manufacturer_analyst_user_id","manufacturer_bdm_user_id"]),u(this.filters,r,["months","country_id"]),this.initializedFromInertiaPage=!0},toQuery(){const e={...this.filters};return s(e)},applyFilter(){a.get(route(route().current()),this.toQuery(),{only:["kpiData","query"],replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>this.loading=!0,onFinish:()=>this.loading=!1})},resetState(){this.loading=!1,this.filters={...t}},resetFilter(){this.resetState(),this.applyFilter()}}});export{m as u};
